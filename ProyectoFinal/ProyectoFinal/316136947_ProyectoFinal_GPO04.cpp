#include <iostream>
#include<windows.h>
#include <cmath>

// GLEW is a library that provides methods that can be implemented at runtime
#include <GL/glew.h>

// GLFW is a library dedicated to the management of windows and keyboard events
#include <GLFW/glfw3.h>

// Other Libs for image loading
#include "stb_image.h"

// GLM Mathematics
#include <glm/glm.hpp>
#include <glm/gtc/matrix_transform.hpp>
#include <glm/gtc/type_ptr.hpp>

//Load Models and for uploading textures into OpenGL
#include "SOIL2/SOIL2.h"

// Other includes
#include "Shader.h"
#include "Camera.h"
#include "Model.h"
#include "Texture.h"

// Function prototypes
void KeyCallback(GLFWwindow* window, int key, int scancode, int action, int mode); //This function is called when a especified key via GLFW is pressed
void MouseCallback(GLFWwindow* window, double xPos, double yPos);// This function is for the camera configuration using mouse as input 
void DoMovement(); //The function indicates what will be performed by the keys that are pressed and under which strict event

// Window dimensions
const GLuint WIDTH = 800, HEIGHT = 600;
int SCREEN_WIDTH, SCREEN_HEIGHT;

// Camera:
Camera camera(glm::vec3(10.0f, 10.0f, 35.0f)); //An instance of the camera class is declared and initialized
/* lastXand lastY, 
allow you to store the last mouse positions in the app, which we initialize to be in the center 
of the screen(the screen size is 800 by 600) initially */
GLfloat lastX = WIDTH / 2.0;
GLfloat lastY = HEIGHT / 2.0;

bool keys[1024]; //An array is defined, this stores the key set via GLFW 
bool firstMouse = true; //Defining a global bool variable to check if this is the first time we receive mouse input

// Light attributes
glm::vec3 lightPos(0.0f, 0.0f, 0.0f);


//Animation
/*
	Variables with which it is allowed to start and perform a certain animation
*/
bool active; //For the control of the light
float rot = 0.0f; //For control over the opening of the toy chest
float rotP = 0.0f; //For rotation of the ball object
float rotR = -80.0f; //For control of the reptar object
bool open = false; //For the state control of the toy chest
bool close = true; //For the state control of the toy chest
bool anim = false; //To control the animation one
bool anim_dos = false; //To control the animation two
float avanzo = 10.8f; //For control over the traslation of drawers
bool open2 = false;  //To control the condition of drawers
bool close2 = true; //To control the condition of drawers
bool anim_tres = false; //To control the animation three
float giro = 0.0f; //For control over the rotating cradle object

bool anim_P = false; //For the complex animation of the bouncing ball 
float rise = 9.1; // To control traslation on the Y-axis when iterating over the array 
float scale= 1.5; //To control scale on the Y-axis when iterating over the array 
//Array that stores the set of values obtained by keyFrames on the Y-axis of the ball object for traslation
float PosY[380] = { 9.14105, 9.18211, 9.22316, 9.26421, 9.30526, 9.34632, 9.38737, 9.42842, 9.46948, 9.51053, 9.55158, 9.59263, 9.63369, 9.67474, 9.71579, 9.75685, 9.7979, 9.83895, 9.88, 9.92106, 9.96211, 10.0032, 10.0442, 10.0853, 10.1263, 10.1674, 10.2084, 10.2495, 10.2905, 10.3316, 10.3726, 10.4137, 10.4547, 10.4958, 10.5368, 10.5779, 10.619, 10.66, 10.7011, 10.7421, 10.7832, 10.8242, 10.8653, 10.9063, 10.9474, 10.9884, 11.0295, 11.0705, 11.1116, 11.1526, 11.1937, 11.2347, 11.2758, 11.3169, 11.3579, 11.399, 11.44, 11.4811, 11.5221, 11.5632, 11.6042, 11.6453, 11.6863, 11.7274, 11.7684, 11.8095, 11.8505, 11.8916, 11.9326, 11.9737, 12.0148, 12.0558, 12.0969, 12.1379, 12.179, 12.22, 12.2611, 12.3021, 12.3432, 12.3842, 12.4253, 12.4663, 12.5074, 12.5484, 12.5895, 12.6305, 12.6716, 12.7126, 12.7537, 12.7948, 12.8358, 12.8769, 12.9179, 12.959, 13, 13.0411, 13.0821, 13.1232, 13.1642, 13.2053, 13.2463, 13.2874, 13.3284, 13.3695, 13.4105, 13.4516, 13.4927, 13.5337, 13.5748, 13.6158, 13.6569, 13.6979, 13.739, 13.78, 13.8211, 13.8621, 13.9032, 13.9442, 13.9853, 14.0263, 14.0674, 14.1084, 14.1495, 14.1905, 14.2316, 14.2727, 14.3137, 14.3548, 14.3958, 14.4369, 14.4779, 14.519, 14.56, 14.6011, 14.6421, 14.6832, 14.7242, 14.7653, 14.8063, 14.8474, 14.8884, 14.9295, 14.9706, 15.0116, 15.0527, 15.0937, 15.1348, 15.1758, 15.2169, 15.2579, 15.299, 15.34, 15.3811, 15.4221, 15.4632, 15.5042, 15.5453, 15.5863, 15.6274, 15.6685, 15.7095, 15.7506, 15.7916, 15.8327, 15.8737, 15.9148, 15.9558, 15.9969, 16.0379, 16.079, 16.12, 16.1611, 16.2021, 16.2432, 16.2842, 16.3253, 16.3663, 16.4074, 16.4484, 16.4895, 16.5305, 16.5716, 16.6127, 16.6537, 16.6948, 16.7358, 16.7769, 16.8179, 16.859, 16.9, 16.8579, 16.8158, 16.7737, 16.7316, 16.6895, 16.6474, 16.6053, 16.5632, 16.5211, 16.479, 16.4369, 16.3948, 16.3527, 16.3105, 16.2684, 16.2263, 16.1842, 16.1421, 16.1, 16.0579, 16.0158, 15.9737, 15.9316, 15.8895, 15.8474, 15.8053, 15.7632, 15.7211, 15.679, 15.6369, 15.5948, 15.5527, 15.5105, 15.4684, 15.4263, 15.3842, 15.3421, 15.3, 15.2579, 15.2158, 15.1737, 15.1316, 15.0895, 15.0474, 15.0053, 14.9632, 14.9211, 14.879, 14.8369, 14.7948, 14.7526, 14.7105, 14.6684, 14.6263, 14.5842, 14.5421, 14.5, 14.4579, 14.4158, 14.3737, 14.3316, 14.2895, 14.2474, 14.2053, 14.1632, 14.1211, 14.079, 14.0368, 13.9947, 13.9526, 13.9105, 13.8684, 13.8263, 13.7842, 13.7421, 13.7, 13.6579, 13.6158, 13.5737, 13.5316, 13.4895, 13.4474, 13.4053, 13.3632, 13.3211, 13.2789, 13.2368, 13.1947, 13.1526, 13.1105, 13.0684, 13.0263, 12.9842, 12.9421, 12.9, 12.8579, 12.8158, 12.7737, 12.7316, 12.6895, 12.6474, 12.6053, 12.5632, 12.521, 12.4789, 12.4368, 12.3947, 12.3526, 12.3105, 12.2684, 12.2263, 12.1842, 12.1421, 12.1, 12.0579, 12.0158, 11.9737, 11.9316, 11.8895, 11.8474, 11.8052, 11.7631, 11.721, 11.6789, 11.6368, 11.5947, 11.5526, 11.5105, 11.4684, 11.4263, 11.3842, 11.3421, 11.3, 11.2579, 11.2158, 11.1737, 11.1316, 11.0895, 11.0473, 11.0052, 10.9631, 10.921, 10.8789, 10.8368, 10.7947, 10.7526, 10.7105, 10.6684, 10.6263, 10.5842, 10.5421, 10.5, 10.4579, 10.4158, 10.3737, 10.3315, 10.2894, 10.2473, 10.2052, 10.1631, 10.121, 10.0789, 10.0368, 9.9947, 9.9526, 9.91049, 9.86839, 9.82628, 9.78418, 9.74207, 9.69996, 9.65786, 9.61575, 9.57365, 9.53154, 9.48944, 9.44733, 9.40522, 9.36312, 9.32101, 9.27891, 9.2368, 9.1947, 9.15259, 9.11049, 9.06838, 9.02627, 8.98417, 8.94206, 8.89996 };
//Array that stores the set of values obtained by keyFrames on the Y-axis of the ball object for scale
float Esc[380] = { 1.30105, 1.30211, 1.30316, 1.30421, 1.30526, 1.30632, 1.30737, 1.30842, 1.30947, 1.31053, 1.31158, 1.31263, 1.31368, 1.31474, 1.31579, 1.31684, 1.31789, 1.31895, 1.32, 1.32105, 1.3221, 1.32316, 1.32421, 1.32526, 1.32632, 1.32737, 1.32842, 1.32947, 1.33053, 1.33158, 1.33263, 1.33368, 1.33474, 1.33579, 1.33684, 1.33789, 1.33895, 1.34, 1.34105, 1.3421, 1.34316, 1.34421, 1.34526, 1.34632, 1.34737, 1.34842, 1.34947, 1.35053, 1.35158, 1.35263, 1.35368, 1.35474, 1.35579, 1.35684, 1.35789, 1.35895, 1.36, 1.36105, 1.3621, 1.36316, 1.36421, 1.36526, 1.36631, 1.36737, 1.36842, 1.36947, 1.37053, 1.37158, 1.37263, 1.37368, 1.37474, 1.37579, 1.37684, 1.37789, 1.37895, 1.38, 1.38105, 1.3821, 1.38316, 1.38421, 1.38526, 1.38631, 1.38737, 1.38842, 1.38947, 1.39053, 1.39158, 1.39263, 1.39368, 1.39474, 1.39579, 1.39684, 1.39789, 1.39895, 1.4, 1.40105, 1.4021, 1.40316, 1.40421, 1.40526, 1.40631, 1.40737, 1.40842, 1.40947, 1.41052, 1.41158, 1.41263, 1.41368, 1.41474, 1.41579, 1.41684, 1.41789, 1.41895, 1.42, 1.42105, 1.4221, 1.42316, 1.42421, 1.42526, 1.42631, 1.42737, 1.42842, 1.42947, 1.43052, 1.43158, 1.43263, 1.43368, 1.43474, 1.43579, 1.43684, 1.43789, 1.43895, 1.44, 1.44105, 1.4421, 1.44316, 1.44421, 1.44526, 1.44631, 1.44737, 1.44842, 1.44947, 1.45052, 1.45158, 1.45263, 1.45368, 1.45473, 1.45579, 1.45684, 1.45789, 1.45895, 1.46, 1.46105, 1.4621, 1.46316, 1.46421, 1.46526, 1.46631, 1.46737, 1.46842, 1.46947, 1.47052, 1.47158, 1.47263, 1.47368, 1.47473, 1.47579, 1.47684, 1.47789, 1.47895, 1.48, 1.48105, 1.4821, 1.48316, 1.48421, 1.48526, 1.48631, 1.48737, 1.48842, 1.48947, 1.49052, 1.49158, 1.49263, 1.49368, 1.49473, 1.49579, 1.49684, 1.49789, 1.49894, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5 };

bool anim_R = false;//For the complex object reptar walking animation
float rotLeg1=0.0; //To control the rotation of the left leg of reptar
float rotLeg2=0.0; //To control the rotation of the right leg of reptar
float walk= 6.49684; //To be able to move reptar over the traslation array

//Array that stores the set of values obtained by KeyFrames to rotate the left leg
float Pier1[1710] = { 44.7579,44.5158,44.2737,44.0316,43.7895,43.5474,43.3053,43.0632,42.8211,42.579,42.3369,42.0948,41.8527,41.6105,41.3684,41.1263,40.8842,40.6421,40.4,40.1579,39.9158,39.6737,39.4316,39.1895,38.9474,38.7053,38.4632,38.2211,37.979,37.7369,37.4948,37.2527,37.0106,36.7685,36.5264,36.2843,36.0422,35.8001,35.558,35.3159,35.0738,34.8316,34.5895,34.3474,34.1053,33.8632,33.6211,33.379,33.1369,32.8948,32.6527,32.4106,32.1685,31.9264,31.6843,31.4422,31.2001,30.958,30.7159,30.4738,30.2317,29.9896,29.7475,29.5054,29.2632,29.0211,28.779,28.5369,28.2948,28.0527,27.8106,27.5685,27.3264,27.0843,26.8422,26.6001,26.358,26.1159,25.8738,25.6317,25.3896,25.1475,24.9053,24.6632,24.4211,24.179,23.9369,23.6948,23.4527,23.2106,22.9685,22.7264,22.4843,22.2422,22.0001,21.758,21.5159,21.2738,21.0317,20.7896,20.5474,20.3053,20.0632,19.8211,19.579,19.3369,19.0948,18.8527,18.6106,18.3685,18.1264,17.8843,17.6422,17.4001,17.158,16.9159,16.6738,16.4317,16.1895,15.9474,15.7053,15.4632,15.2211,14.979,14.7369,14.4948,14.2527,14.0106,13.7685,13.5264,13.2843,13.0422,12.8001,12.558,12.3159,12.0738,11.8316,11.5895,11.3474,11.1053,10.8632,11.6211,12.379,13.1369,13.8948,14.6527,15.4106,16.1685,15.9264,15.6843,15.4422,15.2001,14.958,14.7159,14.4738,14.2316,13.9895,13.7474,13.5053,13.2632,13.0211,12.779,12.5369,12.2948,12.0527,11.8106,11.5685,11.3264,11.0843,10.8422,10.6001,10.358,10.1159,9.87375,9.63164,9.38954,9.14743,8.90532,8.66322,8.42111,8.17901,7.9369,7.6948,7.45269,7.21059,6.96848,6.72638,6.48427,6.24216,6.00006,6.24216,6.48427,6.72638,6.96848,7.21059,7.45269,7.6948,7.9369,8.17901,8.42111,8.66322,8.90532,9.14743,9.38954,9.63164,9.87375,10.1159,10.358,10.6001,10.8422,11.0843,11.3264,11.5685,11.8106,12.0527,12.2948,12.5369,12.779,13.0211,13.2632,13.5053,13.7474,13.9895,14.2316,14.4738,14.7159,14.958,15.2001,15.4422,15.6843,15.9264,16.1685,16.4106,16.6527,16.8948,17.1369,17.379,17.6211,17.8632,18.1053,18.3474,18.5895,18.8316,19.0738,19.3159,19.558,19.8001,20.0422,20.2843,20.5264,20.7685,21.0106,21.2527,21.4948,21.7369,21.979,22.2211,22.4632,22.7053,22.9474,23.1895,23.4317,23.6738,23.9159,24.158,24.4001,24.6422,24.8843,25.1264,25.3685,25.6106,25.8527,26.0948,26.3369,26.579,26.8211,27.0632,27.3053,27.5474,27.7896,28.0317,28.2738,28.5159,28.758,29.0001,29.2422,29.4843,29.7264,29.9685,30.2106,30.4527,30.6948,30.9369,31.179,31.4211,31.6632,31.9053,32.1474,32.3896,32.6317,32.8738,33.1159,33.358,33.6001,33.8422,34.0843,34.3264,34.5685,34.8106,35.0527,35.2948,35.5369,35.779,36.0211,36.2632,36.5053,36.7474,36.9895,37.2316,37.4737,37.7158,37.9579,38.2,38.4421,38.6842,38.9263,39.1685,39.4106,39.6527,39.8948,40.1369,40.379,40.6211,40.8632,41.1053,41.3474,41.5895,41.8316,42.0737,42.3158,42.5579,42.8,43.0421,43.2842,43.5263,43.7684,44.0105,44.2526,44.4947,44.7368,44.9789,45.221,45.4631,45.7052,45.9474,46.1895,46.4316,46.6737,46.9158,47.1579,47.4,47.6421,47.8842,48.1263,48.3684,48.6105,48.8526,49.0947,49.3368,49.5789,49.821,50.0631,50.3052,50.5473,50.7894,51.0315,51.2736,51.5157,51.7578,51.9999,51.7578,51.5157,51.2736,51.0315,50.7894,50.5473,50.3052,50.0631,49.821,49.5789,49.3368,49.0947,48.8526,48.6105,48.3684,48.1263,47.8842,47.6421,47.4,47.1579,46.9158,46.6737,46.4316,46.1895,45.9474,45.7052,45.4631,45.221,44.9789,44.7368,44.4947,44.2526,44.0105,43.7684,43.5263,43.2842,43.0421,42.8,42.5579,42.3158,42.0737,41.8316,41.5895,41.3474,41.1053,40.8632,40.6211,40.379,40.1369,39.8948,39.6527,39.4106,39.1685,38.9263,38.6842,38.4421,38.2,37.9579,37.7158,37.4737,37.2316,36.9895,36.7474,36.5053,36.2632,36.0211,35.779,35.5369,35.2948,35.0527,34.8106,34.5685,34.3264,34.0843,33.8422,33.6001,33.358,33.1159,32.8738,32.6317,32.3896,32.1474,31.9053,31.6632,31.4211,31.179,30.9369,30.6948,30.4527,30.2106,29.9685,29.7264,29.4843,29.2422,29.0001,28.758,28.5159,28.2738,28.0317,27.7896,27.5474,27.3053,27.0632,26.8211,26.579,26.3369,26.0948,25.8527,25.6106,25.3685,25.1264,24.8843,24.6422,24.4001,24.158,23.9159,23.6738,23.4317,23.1895,22.9474,22.7053,22.4632,22.2211,21.979,21.7369,21.4948,21.2527,21.0106,20.7685,20.5264,20.2843,20.0422,19.8001,19.558,19.3159,19.0738,18.8316,18.5895,18.3474,18.1053,17.8632,17.6211,17.379,17.1369,16.8948,16.6527,16.4106,16.1685,15.9264,15.6843,15.4422,15.2001,14.958,14.7159,14.4737,14.2316,13.9895,13.7474,13.5053,13.2632,13.0211,12.779,12.5369,12.2948,12.0527,11.8106,11.5685,11.3264,11.0843,10.8422,10.6001,10.358,10.1159,9.87374,9.63164,9.38953,9.14743,8.90532,8.66322,8.42111,8.17901,7.9369,7.6948,7.45269,7.21058,6.96848,6.72637,6.48427,6.24216,6.00006,6.24216,6.48427,6.72637,6.96848,7.21058,7.45269,7.6948,7.9369,8.17901,8.42111,8.66322,8.90532,9.14743,9.38953,9.63164,9.87374,10.1159,10.358,10.6001,10.8422,11.0843,11.3264,11.5685,11.8106,12.0527,12.2948,12.5369,12.779,13.0211,13.2632,13.5053,13.7474,13.9895,14.2316,14.4737,14.7159,14.958,15.2001,15.4422,15.6843,15.9264,16.1685,16.4106,16.6527,16.8948,17.1369,17.379,17.6211,17.8632,18.1053,18.3474,18.5895,18.8316,19.0738,19.3159,19.558,19.8001,20.0422,20.2843,20.5264,20.7685,21.0106,21.2527,21.4948,21.7369,21.979,22.2211,22.4632,22.7053,22.9474,23.1895,23.4317,23.6738,23.9159,24.158,24.4001,24.6422,24.8843,25.1264,25.3685,25.6106,25.8527,26.0948,26.3369,26.579,26.8211,27.0632,27.3053,27.5474,27.7896,28.0317,28.2738,28.5159,28.758,29.0001,29.2422,29.4843,29.7264,29.9685,30.2106,30.4527,30.6948,30.9369,31.179,31.4211,31.6632,31.9053,32.1474,32.3896,32.6317,32.8738,33.1159,33.358,33.6001,33.8422,34.0843,34.3264,34.5685,34.8106,35.0527,35.2948,35.5369,35.779,36.0211,36.2632,36.5053,36.7474,36.9895,37.2316,37.4737,37.7158,37.9579,38.2,38.4421,38.6842,38.9263,39.1685,39.4106,39.6527,39.8948,40.1369,40.379,40.6211,40.8632,41.1053,41.3474,41.5895,41.8316,42.0737,42.3158,42.5579,42.8,43.0421,43.2842,43.5263,43.7684,44.0105,44.2526,44.4947,44.7368,44.9789,45.221,45.4631,45.7052,45.9474,46.1895,46.4316,46.6737,46.9158,47.1579,47.4,47.6421,47.8842,48.1263,48.3684,48.6105,48.8526,49.0947,49.3368,49.5789,49.821,50.0631,50.3052,50.5473,50.7894,51.0315,51.2736,51.5157,51.7578,51.9999,51.7578,51.5157,51.2736,51.0315,50.7894,50.5473,50.3052,50.0631,49.821,49.5789,49.3368,49.0947,48.8526,48.6105,48.3684,48.1263,47.8842,47.6421,47.4,47.1579,46.9158,46.6737,46.4316,46.1895,45.9474,45.7052,45.4631,45.221,44.9789,44.7368,44.4947,44.2526,44.0105,43.7684,43.5263,43.2842,43.0421,42.8,42.5579,42.3158,42.0737,41.8316,41.5895,41.3474,41.1053,40.8632,40.6211,40.379,40.1369,39.8948,39.6527,39.4106,39.1685,38.9263,38.6842,38.4421,38.2,37.9579,37.7158,37.4737,37.2316,36.9895,36.7474,36.5053,36.2632,36.0211,35.779,35.5369,35.2948,35.0527,34.8106,34.5685,34.3264,34.0843,33.8422,33.6001,33.358,33.1159,32.8738,32.6317,32.3896,32.1474,31.9053,31.6632,31.4211,31.179,30.9369,30.6948,30.4527,30.2106,29.9685,29.7264,29.4843,29.2422,29.0001,28.758,28.5159,28.2738,28.0317,27.7896,27.5474,27.3053,27.0632,26.8211,26.579,26.3369,26.0948,25.8527,25.6106,25.3685,25.1264,24.8843,24.6422,24.4001,24.158,23.9159,23.6738,23.4317,23.1895,22.9474,22.7053,22.4632,22.2211,21.979,21.7369,21.4948,21.2527,21.0106,20.7685,20.5264,20.2843,20.0422,19.8001,19.558,19.3159,19.0738,18.8316,18.5895,18.3474,18.1053,17.8632,17.6211,17.379,17.1369,16.8948,16.6527,16.4106,16.1685,15.9264,15.6843,15.4422,15.2001,14.958,14.7159,14.4737,14.2316,13.9895,13.7474,13.5053,13.2632,13.0211,12.779,12.5369,12.2948,12.0527,11.8106,11.5685,11.3264,11.0843,10.8422,10.6001,10.358,10.1159,9.87374,9.63164,9.38953,9.14743,8.90532,8.66322,8.42111,8.17901,7.9369,7.6948,7.45269,7.21058,6.96848,6.72637,6.48427,6.24216,6.00006,6.24216,6.48427,6.72637,6.96848,7.21058,7.45269,7.6948,7.9369,8.17901,8.42111,8.66322,8.90532,9.14743,9.38953,9.63164,9.87374,10.1159,10.358,10.6001,10.8422,11.0843,11.3264,11.5685,11.8106,12.0527,12.2948,12.5369,12.779,13.0211,13.2632,13.5053,13.7474,13.9895,14.2316,14.4737,14.7159,14.958,15.2001,15.4422,15.6843,15.9264,16.1685,16.4106,16.6527,16.8948,17.1369,17.379,17.6211,17.8632,18.1053,18.3474,18.5895,18.8316,19.0738,19.3159,19.558,19.8001,20.0422,20.2843,20.5264,20.7685,21.0106,21.2527,21.4948,21.7369,21.979,22.2211,22.4632,22.7053,22.9474,23.1895,23.4317,23.6738,23.9159,24.158,24.4001,24.6422,24.8843,25.1264,25.3685,25.6106,25.8527,26.0948,26.3369,26.579,26.8211,27.0632,27.3053,27.5474,27.7896,28.0317,28.2738,28.5159,28.758,29.0001,29.2422,29.4843,29.7264,29.9685,30.2106,30.4527,30.6948,30.9369,31.179,31.4211,31.6632,31.9053,32.1474,32.3896,32.6317,32.8738,33.1159,33.358,33.6001,33.8422,34.0843,34.3264,34.5685,34.8106,35.0527,35.2948,35.5369,35.779,36.0211,36.2632,36.5053,36.7474,36.9895,37.2316,37.4737,37.7158,37.9579,38.2,38.4421,38.6842,38.9263,39.1685,39.4106,39.6527,39.8948,40.1369,40.379,40.6211,40.8632,41.1053,41.3474,41.5895,41.8316,42.0737,42.3158,42.5579,42.8,43.0421,43.2842,43.5263,43.7684,44.0105,44.2526,44.4947,44.7368,44.9789,45.221,45.4631,45.7052,45.9474,46.1895,46.4316,46.6737,46.9158,47.1579,47.4,47.6421,47.8842,48.1263,48.3684,48.6105,48.8526,49.0947,49.3368,49.5789,49.821,50.0631,50.3052,50.5473,50.7894,51.0315,51.2736,51.5157,51.7578,51.9999,51.7578,51.5157,51.2736,51.0315,50.7894,50.5473,50.3052,50.0631,49.821,49.5789,49.3368,49.0947,48.8526,48.6105,48.3684,48.1263,47.8842,47.6421,47.4,47.1579,46.9158,46.6737,46.4316,46.1895,45.9474,45.7052,45.4631,45.221,44.9789,44.7368,44.4947,44.2526,44.0105,43.7684,43.5263,43.2842,43.0421,42.8,42.5579,42.3158,42.0737,41.8316,41.5895,41.3474,41.1053,40.8632,40.6211,40.379,40.1369,39.8948,39.6527,39.4106,39.1685,38.9263,38.6842,38.4421,38.2,37.9579,37.7158,37.4737,37.2316,36.9895,36.7474,36.5053,36.2632,36.0211,35.779,35.5369,35.2948,35.0527,34.8106,34.5685,34.3264,34.0843,33.8422,33.6001,33.358,33.1159,32.8738,32.6317,32.3896,32.1474,31.9053,31.6632,31.4211,31.179,30.9369,30.6948,30.4527,30.2106,29.9685,29.7264,29.4843,29.2422,29.0001,28.758,28.5159,28.2738,28.0317,27.7896,27.5474,27.3053,27.0632,26.8211,26.579,26.3369,26.0948,25.8527,25.6106,25.3685,25.1264,24.8843,24.6422,24.4001,24.158,23.9159,23.6738,23.4317,23.1895,22.9474,22.7053,22.4632,22.2211,21.979,21.7369,21.4948,21.2527,21.0106,20.7685,20.5264,20.2843,20.0422,19.8001,19.558,19.3159,19.0738,18.8316,18.5895,18.3474,18.1053,17.8632,17.6211,17.379,17.1369,16.8948,16.6527,16.4106,16.1685,15.9264,15.6843,15.4422,15.2001,14.958,14.7159,14.4737,14.2316,13.9895,13.7474,13.5053,13.2632,13.0211,12.779,12.5369,12.2948,12.0527,11.8106,11.5685,11.3264,11.0843,10.8422,10.6001,10.358,10.1159,9.87374,9.63164,9.38953,9.14743,8.90532,8.66322,8.42111,8.17901,7.9369,7.6948,7.45269,7.21058,6.96848,6.72637,6.48427,6.24216,6.00006,6.24216,6.48427,6.72637,6.96848,7.21058,7.45269,7.6948,7.9369,8.17901,8.42111,8.66322,8.90532,9.14743,9.38953,9.63164,9.87374,10.1159,10.358,10.6001,10.8422,11.0843,11.3264,11.5685,11.8106,12.0527,12.2948,12.5369,12.779,13.0211,13.2632,13.5053,13.7474,13.9895,14.2316,14.4737,14.7159,14.958,15.2001,15.4422,15.6843,15.9264,16.1685,16.4106,16.6527,16.8948,17.1369,17.379,17.6211,17.8632,18.1053,18.3474,18.5895,18.8316,19.0738,19.3159,19.558,19.8001,20.0422,20.2843,20.5264,20.7685,21.0106,21.2527,21.4948,21.7369,21.979,22.2211,22.4632,22.7053,22.9474,23.1895,23.4317,23.6738,23.9159,24.158,24.4001,24.6422,24.8843,25.1264,25.3685,25.6106,25.8527,26.0948,26.3369,26.579,26.8211,27.0632,27.3053,27.5474,27.7896,28.0317,28.2738,28.5159,28.758,29.0001,29.2422,29.4843,29.7264,29.9685,30.2106,30.4527,30.6948,30.9369,31.179,31.4211,31.6632,31.9053,32.1474,32.3896,32.6317,32.8738,33.1159,33.358,33.6001,33.8422,34.0843,34.3264,34.5685,34.8106,35.0527,35.2948,35.5369,35.779,36.0211,36.2632,36.5053,36.7474,36.9895,37.2316,37.4737,37.7158,37.9579,38.2,38.4421,38.6842,38.9263,39.1685,39.4106,39.6527,39.8948,40.1369,40.379,40.6211,40.8632,41.1053,41.3474,41.5895,41.8316,42.0737,42.3158,42.5579,42.8,43.0421,43.2842,43.5263,43.7684,44.0105,44.2526,44.4947,44.7368,44.9789,45.221,45.4631,45.7052,45.9474,46.1895,46.4316,46.6737,46.9158,47.1579,47.4,47.6421,47.8842,48.1263,48.3684,48.6105,48.8526,49.0947,49.3368,49.5789,49.821,50.0631,50.3052,50.5473,50.7894,51.0315,51.2736,51.5157,51.7578,51.9999,51.7578,51.5157,51.2736,51.0315,50.7894,50.5473,50.3052,50.0631,49.821,49.5789,49.3368,49.0947,48.8526,48.6105,48.3684,48.1263,47.8842,47.6421,47.4,47.1579,46.9158,46.6737,46.4316,46.1895,45.9474,45.7052,45.4631,45.221,44.9789,44.7368,44.4947,44.2526,44.0105,43.7684,43.5263,43.2842,43.0421,42.8,42.5579,42.3158,42.0737,41.8316,41.5895,41.3474,41.1053,40.8632,40.6211,40.379,40.1369,39.8948,39.6527,39.4106,39.1685,38.9263,38.6842,38.4421,38.2,37.9579,37.7158,37.4737,37.2316,36.9895,36.7474,36.5053,36.2632,36.0211,35.779,35.5369,35.2948,35.0527,34.8106,34.5685,34.3264,34.0843,33.8422,33.6001,33.358,33.1159,32.8738,32.6317,32.3896,32.1474,31.9053,31.6632,31.4211,31.179,30.9369,30.6948,30.4527,30.2106,29.9685,29.7264,29.4843,29.2422,29.0001,28.758,28.5159,28.2738,28.0317,27.7896,27.5474,27.3053,27.0632,26.8211,26.579,26.3369,26.0948,25.8527,25.6106,25.3685,25.1264,24.8843,24.6422,24.4001,24.158,23.9159,23.6738,23.4317,23.1895,22.9474,22.7053,22.4632,22.2211,21.979,21.7369,21.4948,21.2527,21.0106,20.7685,20.5264,20.2843,20.0422,19.8001,19.558,19.3159,19.0738,18.8316,18.5895,18.3474,18.1053,17.8632,17.6211,17.379,17.1369,16.8948,16.6527,16.4106,16.1685,15.9264,15.6843,15.4422,15.2001,14.958,14.7159,14.4737,14.2316,13.9895,13.7474,13.5053,13.2632,13.0211,12.779,12.5369,12.2948,12.0527,11.8106,11.5685,11.3264,11.0843,10.8422,10.6001,10.358,10.1159,9.87374,9.63164,9.38953,9.14743,8.90532,8.66322,8.42111,8.17901,7.9369,7.6948,7.45269,7.21058,6.96848,6.72637,6.48427,6.24216,6.00006 };
//Array that stores the set of values obtained by KeyFrames to rotate the right leg
float Pier2[1710] = { 0.236842,0.473684,0.710526,0.947368,1.18421,1.42105,1.65789,1.89474,2.13158,2.36842,2.60526,2.84211,3.07895,3.31579,3.55263,3.78947,4.02632,4.26316,4.5,4.73684,4.97368,5.21053,5.44737,5.68421,5.92105,6.1579,6.39474,6.63158,6.86842,7.10526,7.34211,7.57895,7.81579,8.05263,8.28947,8.52632,8.76316,9,9.23684,9.47369,9.71053,9.94737,10.1842,10.4211,10.6579,10.8947,11.1316,11.3684,11.6053,11.8421,12.0789,12.3158,12.5526,12.7895,13.0263,13.2632,13.5,13.7368,13.9737,14.2105,14.4474,14.6842,14.9211,15.1579,15.3947,15.6316,15.8684,16.1053,16.3421,16.5789,16.8158,17.0526,17.2895,17.5263,17.7632,18,18.2368,18.4737,18.7105,18.9474,19.1842,19.421,19.6579,19.8947,20.1316,20.3684,20.6052,20.8421,21.0789,21.3158,21.5526,21.7895,22.0263,22.2631,22.5,22.7368,22.9737,23.2105,23.4473,23.6842,23.921,24.1579,24.3947,24.6315,24.8684,25.1052,25.3421,25.5789,25.8158,26.0526,26.2894,26.5263,26.7631,27,27.2368,27.4736,27.7105,27.9473,28.1842,28.421,28.6578,28.8947,29.1315,29.3684,29.6052,29.8421,30.0789,30.3157,30.5526,30.7894,31.0263,31.2631,31.4999,31.7368,31.9736,32.2105,32.4473,32.6842,32.921,33.1578,33.3947,33.6315,33.8684,34.1052,34.3421,34.5789,34.8157,35.0526,35.2894,35.5263,35.7631,36,36.2368,36.4736,36.7105,36.9473,37.1842,37.421,37.6579,37.8947,38.1315,38.3684,38.6052,38.8421,39.0789,39.3158,39.5526,39.7894,40.0263,40.2631,40.5,40.7368,40.9737,41.2105,41.4473,41.6842,41.921,42.1579,42.3947,42.6316,42.8684,43.1053,43.3421,43.5789,43.8158,44.0526,44.2895,44.5263,44.7632,45,44.7579,44.5158,44.2737,44.0316,43.7895,43.5474,43.3053,43.0632,42.8211,42.579,42.3369,42.0948,41.8526,41.6105,41.3684,41.1263,40.8842,40.6421,40.4,40.1579,39.9158,39.6737,39.4316,39.1895,38.9474,38.7053,38.4632,38.2211,37.979,37.7369,37.4948,37.2527,37.0106,36.7685,36.5264,36.2843,36.0422,35.8001,35.558,35.3159,35.0737,34.8316,34.5895,34.3474,34.1053,33.8632,33.6211,33.379,33.1369,32.8948,32.6527,32.4106,32.1685,31.9264,31.6843,31.4422,31.2001,30.958,30.7159,30.4738,30.2317,29.9896,29.7475,29.5053,29.2632,29.0211,28.779,28.5369,28.2948,28.0527,27.8106,27.5685,27.3264,27.0843,26.8422,26.6001,26.358,26.1159,25.8738,25.6317,25.3896,25.1474,24.9053,24.6632,24.4211,24.179,23.9369,23.6948,23.4527,23.2106,22.9685,22.7264,22.4843,22.2422,22.0001,21.758,21.5159,21.2738,21.0317,20.7895,20.5474,20.3053,20.0632,19.8211,19.579,19.3369,19.0948,18.8527,18.6106,18.3685,18.1264,17.8843,17.6422,17.4001,17.158,16.9159,16.6738,16.4317,16.1895,15.9474,15.7053,15.4632,15.2211,14.979,14.7369,14.4948,14.2527,14.0106,13.7685,13.5264,13.2843,13.0422,12.8001,12.558,12.3159,12.0738,11.8316,11.5895,11.3474,11.1053,10.8632,10.6211,10.379,10.1369,9.8948,9.6527,9.41059,9.16849,8.92638,8.68427,8.44217,8.20006,7.95796,7.71585,7.47375,7.23164,6.98954,6.74743,6.50533,6.26322,6.02111,5.77901,5.5369,5.2948,5.05269,4.81059,4.56848,4.32638,4.08427,3.84217,3.60006,3.35795,3.11585,2.87374,2.63164,2.38953,2.14743,1.90532,1.66322,1.42111,1.17901,0.936902,0.694797,0.452692,0.210587,-0.0315187,-0.273624,-0.515729,-0.757834,-0.99994,-0.757834,-0.515729,-0.273624,-0.0315187,0.210587,0.452692,0.694797,0.936902,1.17901,1.42111,1.66322,1.90532,2.14743,2.38953,2.63164,2.87374,3.11585,3.35795,3.60006,3.84217,4.08427,4.32638,4.56848,4.81059,5.05269,5.2948,5.5369,5.77901,6.02111,6.26322,6.50533,6.74743,6.98954,7.23164,7.47375,7.71585,7.95796,8.20006,8.44217,8.68427,8.92638,9.16849,9.41059,9.6527,9.8948,10.1369,10.379,10.6211,10.8632,11.1053,11.3474,11.5895,11.8316,12.0738,12.3159,12.558,12.8001,13.0422,13.2843,13.5264,13.7685,14.0106,14.2527,14.4948,14.7369,14.979,15.2211,15.4632,15.7053,15.9474,16.1895,16.4317,16.6738,16.9159,17.158,17.4001,17.6422,17.8843,18.1264,18.3685,18.6106,18.8527,19.0948,19.3369,19.579,19.8211,20.0632,20.3053,20.5474,20.7895,21.0317,21.2738,21.5159,21.758,22.0001,22.2422,22.4843,22.7264,22.9685,23.2106,23.4527,23.6948,23.9369,24.179,24.4211,24.6632,24.9053,25.1474,25.3896,25.6317,25.8738,26.1159,26.358,26.6001,26.8422,27.0843,27.3264,27.5685,27.8106,28.0527,28.2948,28.5369,28.779,29.0211,29.2632,29.5053,29.7475,29.9896,30.2317,30.4738,30.7159,30.958,31.2001,31.4422,31.6843,31.9264,32.1685,32.4106,32.6527,32.8948,33.1369,33.379,33.6211,33.8632,34.1053,34.3474,34.5895,34.8316,35.0737,35.3159,35.558,35.8001,36.0422,36.2843,36.5264,36.7685,37.0106,37.2527,37.4948,37.7369,37.979,38.2211,38.4632,38.7053,38.9474,39.1895,39.4316,39.6737,39.9158,40.1579,40.4,40.6421,40.8842,41.1263,41.3684,41.6105,41.8526,42.0948,42.3369,42.579,42.8211,43.0632,43.3053,43.5474,43.7895,44.0316,44.2737,44.5158,44.7579,45,44.7579,44.5158,44.2737,44.0316,43.7895,43.5474,43.3053,43.0632,42.8211,42.579,42.3369,42.0948,41.8526,41.6105,41.3684,41.1263,40.8842,40.6421,40.4,40.1579,39.9158,39.6737,39.4316,39.1895,38.9474,38.7053,38.4632,38.2211,37.979,37.7369,37.4948,37.2527,37.0106,36.7685,36.5264,36.2843,36.0422,35.8001,35.558,35.3159,35.0737,34.8316,34.5895,34.3474,34.1053,33.8632,33.6211,33.379,33.1369,32.8948,32.6527,32.4106,32.1685,31.9264,31.6843,31.4422,31.2001,30.958,30.7159,30.4738,30.2317,29.9896,29.7475,29.5053,29.2632,29.0211,28.779,28.5369,28.2948,28.0527,27.8106,27.5685,27.3264,27.0843,26.8422,26.6001,26.358,26.1159,25.8738,25.6317,25.3896,25.1474,24.9053,24.6632,24.4211,24.179,23.9369,23.6948,23.4527,23.2106,22.9685,22.7264,22.4843,22.2422,22.0001,21.758,21.5159,21.2738,21.0317,20.7895,20.5474,20.3053,20.0632,19.8211,19.579,19.3369,19.0948,18.8527,18.6106,18.3685,18.1264,17.8843,17.6422,17.4001,17.158,16.9159,16.6738,16.4317,16.1895,15.9474,15.7053,15.4632,15.2211,14.979,14.7369,14.4948,14.2527,14.0106,13.7685,13.5264,13.2843,13.0422,12.8001,12.558,12.3159,12.0738,11.8316,11.5895,11.3474,11.1053,10.8632,10.6211,10.379,10.1369,9.8948,9.6527,9.41059,9.16849,8.92638,8.68427,8.44217,8.20006,7.95796,7.71585,7.47375,7.23164,6.98954,6.74743,6.50533,6.26322,6.02111,5.77901,5.5369,5.2948,5.05269,4.81059,4.56848,4.32638,4.08427,3.84217,3.60006,3.35795,3.11585,2.87374,2.63164,2.38953,2.14743,1.90532,1.66322,1.42111,1.17901,0.936902,0.694797,0.452692,0.210587,-0.0315187,-0.273624,-0.515729,-0.757834,-0.99994,-0.757834,-0.515729,-0.273624,-0.0315187,0.210587,0.452692,0.694797,0.936902,1.17901,1.42111,1.66322,1.90532,2.14743,2.38953,2.63164,2.87374,3.11585,3.35795,3.60006,3.84217,4.08427,4.32638,4.56848,4.81059,5.05269,5.2948,5.5369,5.77901,6.02111,6.26322,6.50533,6.74743,6.98954,7.23164,7.47375,7.71585,7.95796,8.20006,8.44217,8.68427,8.92638,9.16849,9.41059,9.6527,9.8948,10.1369,10.379,10.6211,10.8632,11.1053,11.3474,11.5895,11.8316,12.0738,12.3159,12.558,12.8001,13.0422,13.2843,13.5264,13.7685,14.0106,14.2527,14.4948,14.7369,14.979,15.2211,15.4632,15.7053,15.9474,16.1895,16.4317,16.6738,16.9159,17.158,17.4001,17.6422,17.8843,18.1264,18.3685,18.6106,18.8527,19.0948,19.3369,19.579,19.8211,20.0632,20.3053,20.5474,20.7895,21.0317,21.2738,21.5159,21.758,22.0001,22.2422,22.4843,22.7264,22.9685,23.2106,23.4527,23.6948,23.9369,24.179,24.4211,24.6632,24.9053,25.1474,25.3896,25.6317,25.8738,26.1159,26.358,26.6001,26.8422,27.0843,27.3264,27.5685,27.8106,28.0527,28.2948,28.5369,28.779,29.0211,29.2632,29.5053,29.7475,29.9896,30.2317,30.4738,30.7159,30.958,31.2001,31.4422,31.6843,31.9264,32.1685,32.4106,32.6527,32.8948,33.1369,33.379,33.6211,33.8632,34.1053,34.3474,34.5895,34.8316,35.0737,35.3159,35.558,35.8001,36.0422,36.2843,36.5264,36.7685,37.0106,37.2527,37.4948,37.7369,37.979,38.2211,38.4632,38.7053,38.9474,39.1895,39.4316,39.6737,39.9158,40.1579,40.4,40.6421,40.8842,41.1263,41.3684,41.6105,41.8526,42.0948,42.3369,42.579,42.8211,43.0632,43.3053,43.5474,43.7895,44.0316,44.2737,44.5158,44.7579,45,44.7579,44.5158,44.2737,44.0316,43.7895,43.5474,43.3053,43.0632,42.8211,42.579,42.3369,42.0948,41.8526,41.6105,41.3684,41.1263,40.8842,40.6421,40.4,40.1579,39.9158,39.6737,39.4316,39.1895,38.9474,38.7053,38.4632,38.2211,37.979,37.7369,37.4948,37.2527,37.0106,36.7685,36.5264,36.2843,36.0422,35.8001,35.558,35.3159,35.0737,34.8316,34.5895,34.3474,34.1053,33.8632,33.6211,33.379,33.1369,32.8948,32.6527,32.4106,32.1685,31.9264,31.6843,31.4422,31.2001,30.958,30.7159,30.4738,30.2317,29.9896,29.7475,29.5053,29.2632,29.0211,28.779,28.5369,28.2948,28.0527,27.8106,27.5685,27.3264,27.0843,26.8422,26.6001,26.358,26.1159,25.8738,25.6317,25.3896,25.1474,24.9053,24.6632,24.4211,24.179,23.9369,23.6948,23.4527,23.2106,22.9685,22.7264,22.4843,22.2422,22.0001,21.758,21.5159,21.2738,21.0317,20.7895,20.5474,20.3053,20.0632,19.8211,19.579,19.3369,19.0948,18.8527,18.6106,18.3685,18.1264,17.8843,17.6422,17.4001,17.158,16.9159,16.6738,16.4317,16.1895,15.9474,15.7053,15.4632,15.2211,14.979,14.7369,14.4948,14.2527,14.0106,13.7685,13.5264,13.2843,13.0422,12.8001,12.558,12.3159,12.0738,11.8316,11.5895,11.3474,11.1053,10.8632,10.6211,10.379,10.1369,9.8948,9.6527,9.41059,9.16849,8.92638,8.68427,8.44217,8.20006,7.95796,7.71585,7.47375,7.23164,6.98954,6.74743,6.50533,6.26322,6.02111,5.77901,5.5369,5.2948,5.05269,4.81059,4.56848,4.32638,4.08427,3.84217,3.60006,3.35795,3.11585,2.87374,2.63164,2.38953,2.14743,1.90532,1.66322,1.42111,1.17901,0.936902,0.694797,0.452692,0.210587,-0.0315187,-0.273624,-0.515729,-0.757834,-0.99994,-0.757834,-0.515729,-0.273624,-0.0315187,0.210587,0.452692,0.694797,0.936902,1.17901,1.42111,1.66322,1.90532,2.14743,2.38953,2.63164,2.87374,3.11585,3.35795,3.60006,3.84217,4.08427,4.32638,4.56848,4.81059,5.05269,5.2948,5.5369,5.77901,6.02111,6.26322,6.50533,6.74743,6.98954,7.23164,7.47375,7.71585,7.95796,8.20006,8.44217,8.68427,8.92638,9.16849,9.41059,9.6527,9.8948,10.1369,10.379,10.6211,10.8632,11.1053,11.3474,11.5895,11.8316,12.0738,12.3159,12.558,12.8001,13.0422,13.2843,13.5264,13.7685,14.0106,14.2527,14.4948,14.7369,14.979,15.2211,15.4632,15.7053,15.9474,16.1895,16.4317,16.6738,16.9159,17.158,17.4001,17.6422,17.8843,18.1264,18.3685,18.6106,18.8527,19.0948,19.3369,19.579,19.8211,20.0632,20.3053,20.5474,20.7895,21.0317,21.2738,21.5159,21.758,22.0001,22.2422,22.4843,22.7264,22.9685,23.2106,23.4527,23.6948,23.9369,24.179,24.4211,24.6632,24.9053,25.1474,25.3896,25.6317,25.8738,26.1159,26.358,26.6001,26.8422,27.0843,27.3264,27.5685,27.8106,28.0527,28.2948,28.5369,28.779,29.0211,29.2632,29.5053,29.7475,29.9896,30.2317,30.4738,30.7159,30.958,31.2001,31.4422,31.6843,31.9264,32.1685,32.4106,32.6527,32.8948,33.1369,33.379,33.6211,33.8632,34.1053,34.3474,34.5895,34.8316,35.0737,35.3159,35.558,35.8001,36.0422,36.2843,36.5264,36.7685,37.0106,37.2527,37.4948,37.7369,37.979,38.2211,38.4632,38.7053,38.9474,39.1895,39.4316,39.6737,39.9158,40.1579,40.4,40.6421,40.8842,41.1263,41.3684,41.6105,41.8526,42.0948,42.3369,42.579,42.8211,43.0632,43.3053,43.5474,43.7895,44.0316,44.2737,44.5158,44.7579,45,44.7579,44.5158,44.2737,44.0316,43.7895,43.5474,43.3053,43.0632,42.8211,42.579,42.3369,42.0948,41.8526,41.6105,41.3684,41.1263,40.8842,40.6421,40.4,40.1579,39.9158,39.6737,39.4316,39.1895,38.9474,38.7053,38.4632,38.2211,37.979,37.7369,37.4948,37.2527,37.0106,36.7685,36.5264,36.2843,36.0422,35.8001,35.558,35.3159,35.0737,34.8316,34.5895,34.3474,34.1053,33.8632,33.6211,33.379,33.1369,32.8948,32.6527,32.4106,32.1685,31.9264,31.6843,31.4422,31.2001,30.958,30.7159,30.4738,30.2317,29.9896,29.7475,29.5053,29.2632,29.0211,28.779,28.5369,28.2948,28.0527,27.8106,27.5685,27.3264,27.0843,26.8422,26.6001,26.358,26.1159,25.8738,25.6317,25.3896,25.1474,24.9053,24.6632,24.4211,24.179,23.9369,23.6948,23.4527,23.2106,22.9685,22.7264,22.4843,22.2422,22.0001,21.758,21.5159,21.2738,21.0317,20.7895,20.5474,20.3053,20.0632,19.8211,19.579,19.3369,19.0948,18.8527,18.6106,18.3685,18.1264,17.8843,17.6422,17.4001,17.158,16.9159,16.6738,16.4317,16.1895,15.9474,15.7053,15.4632,15.2211,14.979,14.7369,14.4948,14.2527,14.0106,13.7685,13.5264,13.2843,13.0422,12.8001,12.558,12.3159,12.0738,11.8316,11.5895,11.3474,11.1053,10.8632,10.6211,10.379,10.1369,9.8948,9.6527,9.41059,9.16849,8.92638,8.68427,8.44217,8.20006,7.95796,7.71585,7.47375,7.23164,6.98954,6.74743,6.50533,6.26322,6.02111,5.77901,5.5369,5.2948,5.05269,4.81059,4.56848,4.32638,4.08427,3.84217,3.60006,3.35795,3.11585,2.87374,2.63164,2.38953,2.14743,1.90532,1.66322,1.42111,1.17901,0.936902,0.694797,0.452692,0.210587,-0.0315187,-0.273624,-0.515729,-0.757834,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994,-0.99994 };
//Array that stores the set of values obtained by KeyFrames to move reptar
float Tras[1710] = { 6.49684,6.49368,6.49053,6.48737,6.48421,6.48105,6.47789,6.47474,6.47158,6.46842,6.46526,6.4621,6.45895,6.45579,6.45263,6.44947,6.44631,6.44315,6.44,6.43684,6.43368,6.43052,6.42736,6.42421,6.42105,6.41789,6.41473,6.41157,6.40842,6.40526,6.4021,6.39894,6.39578,6.39263,6.38947,6.38631,6.38315,6.37999,6.37683,6.37368,6.37052,6.36736,6.3642,6.36104,6.35789,6.35473,6.35157,6.34841,6.34525,6.3421,6.33894,6.33578,6.33262,6.32946,6.32631,6.32315,6.31999,6.31683,6.31367,6.31051,6.30736,6.3042,6.30104,6.29788,6.29472,6.29157,6.28841,6.28525,6.28209,6.27893,6.27578,6.27262,6.26946,6.2663,6.26314,6.25999,6.25683,6.25367,6.25051,6.24735,6.24419,6.24104,6.23788,6.23472,6.23156,6.2284,6.22525,6.22209,6.21893,6.21577,6.21261,6.20946,6.2063,6.20314,6.19998,6.19682,6.19367,6.19051,6.18735,6.18419,6.18103,6.17788,6.17472,6.17156,6.1684,6.16524,6.16208,6.15893,6.15577,6.15261,6.14945,6.14629,6.14314,6.13998,6.13682,6.13366,6.1305,6.12735,6.12419,6.12103,6.11787,6.11471,6.11156,6.1084,6.10524,6.10208,6.09892,6.09576,6.09261,6.08945,6.08629,6.08313,6.07997,6.07682,6.07366,6.0705,6.06734,6.06418,6.06103,6.05787,6.05471,6.05155,6.04839,6.04524,6.04208,6.03892,6.03576,6.0326,6.02944,6.02629,6.02313,6.01997,6.01681,6.01365,6.0105,6.00734,6.00418,6.00102,5.99786,5.99471,5.99155,5.98839,5.98523,5.98207,5.97892,5.97576,5.9726,5.96944,5.96628,5.96312,5.95997,5.95681,5.95365,5.95049,5.94733,5.94418,5.94102,5.93786,5.9347,5.93154,5.92839,5.92523,5.92207,5.91891,5.91575,5.9126,5.90944,5.90628,5.90312,5.89996,5.8947,5.88944,5.88417,5.87891,5.87365,5.86838,5.86312,5.85786,5.85259,5.84733,5.84207,5.8368,5.83154,5.82628,5.82101,5.81575,5.81049,5.80522,5.79996,5.7947,5.78943,5.78417,5.77891,5.77364,5.76838,5.76312,5.75785,5.75259,5.74733,5.74206,5.7368,5.73154,5.72627,5.72101,5.71575,5.71048,5.70522,5.69996,5.69469,5.68943,5.68417,5.6789,5.67364,5.66838,5.66311,5.65785,5.65259,5.64732,5.64206,5.6368,5.63153,5.62627,5.62101,5.61574,5.61048,5.60522,5.59995,5.59469,5.58943,5.58416,5.5789,5.57364,5.56837,5.56311,5.55785,5.55258,5.54732,5.54206,5.53679,5.53153,5.52627,5.521,5.51574,5.51048,5.50521,5.49995,5.49469,5.48942,5.48416,5.4789,5.47363,5.46837,5.46311,5.45784,5.45258,5.44732,5.44205,5.43679,5.43153,5.42626,5.421,5.41574,5.41047,5.40521,5.39995,5.39468,5.38942,5.38416,5.37889,5.37363,5.36837,5.3631,5.35784,5.35258,5.34731,5.34205,5.33679,5.33152,5.32626,5.321,5.31573,5.31047,5.30521,5.29994,5.29468,5.28942,5.28415,5.27889,5.27363,5.26836,5.2631,5.25784,5.25257,5.24731,5.24205,5.23678,5.23152,5.22626,5.22099,5.21573,5.21047,5.2052,5.19994,5.19468,5.18941,5.18415,5.17889,5.17362,5.16836,5.1631,5.15783,5.15257,5.14731,5.14204,5.13678,5.13152,5.12625,5.12099,5.11573,5.11046,5.1052,5.09994,5.09467,5.08941,5.08415,5.07888,5.07362,5.06836,5.06309,5.05783,5.05257,5.0473,5.04204,5.03678,5.03151,5.02625,5.02099,5.01572,5.01046,5.0052,4.99993,4.99467,4.98941,4.98414,4.97888,4.97362,4.96835,4.96309,4.95783,4.95256,4.9473,4.94204,4.93677,4.93151,4.92625,4.92098,4.91572,4.91046,4.90519,4.89993,4.89467,4.8894,4.88414,4.87888,4.87361,4.86835,4.86309,4.85782,4.85256,4.8473,4.84203,4.83677,4.83151,4.82624,4.82098,4.81572,4.81045,4.80519,4.79993,4.79466,4.7894,4.78414,4.77887,4.77361,4.76835,4.76308,4.75782,4.75256,4.74729,4.74203,4.73677,4.7315,4.72624,4.72098,4.71571,4.71045,4.70519,4.69992,4.69466,4.6894,4.68413,4.67887,4.67361,4.66834,4.66308,4.65782,4.65255,4.64729,4.64203,4.63676,4.6315,4.62624,4.62097,4.61571,4.61045,4.60518,4.59992,4.59466,4.58939,4.58413,4.57887,4.5736,4.56834,4.56308,4.55781,4.55255,4.54729,4.54202,4.53676,4.5315,4.52623,4.52097,4.51571,4.51044,4.50518,4.49992,4.49465,4.48939,4.48413,4.47886,4.4736,4.46834,4.46307,4.45781,4.45255,4.44728,4.44202,4.43676,4.43149,4.42623,4.42097,4.4157,4.41044,4.40518,4.39991,4.39465,4.38939,4.38412,4.37886,4.3736,4.36833,4.36307,4.35781,4.35254,4.34728,4.34202,4.33675,4.33149,4.32623,4.32096,4.3157,4.31044,4.30517,4.29991,4.29465,4.28938,4.28412,4.27886,4.27359,4.26833,4.26307,4.2578,4.25254,4.24728,4.24201,4.23675,4.23149,4.22622,4.22096,4.2157,4.21043,4.20517,4.19991,4.19464,4.18938,4.18412,4.17885,4.17359,4.16833,4.16306,4.1578,4.15254,4.14727,4.14201,4.13675,4.13148,4.12622,4.12096,4.11569,4.11043,4.10517,4.0999,4.09464,4.08938,4.08411,4.07885,4.07359,4.06832,4.06306,4.0578,4.05253,4.04727,4.04201,4.03674,4.03148,4.02622,4.02095,4.01569,4.01043,4.00516,3.9999,3.99464,3.98938,3.98411,3.97885,3.97359,3.96832,3.96306,3.9578,3.95253,3.94727,3.94201,3.93674,3.93148,3.92622,3.92096,3.91569,3.91043,3.90517,3.8999,3.89569,3.89148,3.88727,3.88306,3.87885,3.87464,3.87043,3.86622,3.86201,3.8578,3.85359,3.84938,3.84517,3.84096,3.83675,3.83254,3.82832,3.82411,3.8199,3.81569,3.81148,3.80727,3.80306,3.79885,3.79464,3.79043,3.78622,3.78201,3.7778,3.77359,3.76938,3.76517,3.76096,3.75675,3.75254,3.74833,3.74412,3.7399,3.73569,3.73148,3.72727,3.72306,3.71885,3.71464,3.71043,3.70622,3.70201,3.6978,3.69359,3.68938,3.68517,3.68096,3.67675,3.67254,3.66833,3.66412,3.65991,3.6557,3.65148,3.64727,3.64306,3.63885,3.63464,3.63043,3.62622,3.62201,3.6178,3.61359,3.60938,3.60517,3.60096,3.59675,3.59254,3.58833,3.58412,3.57991,3.5757,3.57149,3.56728,3.56307,3.55885,3.55464,3.55043,3.54622,3.54201,3.5378,3.53359,3.52938,3.52517,3.52096,3.51675,3.51254,3.50833,3.50412,3.49991,3.4957,3.49149,3.48728,3.48307,3.47886,3.47465,3.47043,3.46622,3.46201,3.4578,3.45359,3.44938,3.44517,3.44096,3.43675,3.43254,3.42833,3.42412,3.41991,3.4157,3.41149,3.40728,3.40307,3.39886,3.39465,3.39044,3.38623,3.38201,3.3778,3.37359,3.36938,3.36517,3.36096,3.35675,3.35254,3.34833,3.34412,3.33991,3.3357,3.33149,3.32728,3.32307,3.31886,3.31465,3.31044,3.30623,3.30202,3.29781,3.29359,3.28938,3.28517,3.28096,3.27675,3.27254,3.26833,3.26412,3.25991,3.2557,3.25149,3.24728,3.24307,3.23886,3.23465,3.23044,3.22623,3.22202,3.21781,3.2136,3.20939,3.20517,3.20096,3.19675,3.19254,3.18833,3.18412,3.17991,3.1757,3.17149,3.16728,3.16307,3.15886,3.15465,3.15044,3.14623,3.14202,3.13781,3.1336,3.12939,3.12518,3.12097,3.11676,3.11254,3.10833,3.10412,3.09991,3.09518,3.09044,3.0857,3.08097,3.07623,3.07149,3.06675,3.06202,3.05728,3.05254,3.04781,3.04307,3.03833,3.0336,3.02886,3.02412,3.01939,3.01465,3.00991,3.00518,3.00044,2.9957,2.99096,2.98623,2.98149,2.97675,2.97202,2.96728,2.96254,2.95781,2.95307,2.94833,2.9436,2.93886,2.93412,2.92938,2.92465,2.91991,2.91517,2.91044,2.9057,2.90096,2.89623,2.89149,2.88675,2.88202,2.87728,2.87254,2.86781,2.86307,2.85833,2.85359,2.84886,2.84412,2.83938,2.83465,2.82991,2.82517,2.82044,2.8157,2.81096,2.80623,2.80149,2.79675,2.79201,2.78728,2.78254,2.7778,2.77307,2.76833,2.76359,2.75886,2.75412,2.74938,2.74465,2.73991,2.73517,2.73043,2.7257,2.72096,2.71622,2.71149,2.70675,2.70201,2.69728,2.69254,2.6878,2.68307,2.67833,2.67359,2.66886,2.66412,2.65938,2.65464,2.64991,2.64517,2.64043,2.6357,2.63096,2.62622,2.62149,2.61675,2.61201,2.60728,2.60254,2.5978,2.59306,2.58833,2.58359,2.57885,2.57412,2.56938,2.56464,2.55991,2.55517,2.55043,2.5457,2.54096,2.53622,2.53149,2.52675,2.52201,2.51727,2.51254,2.5078,2.50306,2.49833,2.49359,2.48885,2.48412,2.47938,2.47464,2.46991,2.46517,2.46043,2.45569,2.45096,2.44622,2.44148,2.43675,2.43201,2.42727,2.42254,2.4178,2.41306,2.40833,2.40359,2.39885,2.39411,2.38938,2.38464,2.3799,2.37517,2.37043,2.36569,2.36096,2.35622,2.35148,2.34675,2.34201,2.33727,2.33254,2.3278,2.32306,2.31832,2.31359,2.30885,2.30411,2.29938,2.29464,2.2899,2.28517,2.28043,2.27569,2.27096,2.26622,2.26148,2.25674,2.25201,2.24727,2.24253,2.2378,2.23306,2.22832,2.22359,2.21885,2.21411,2.20938,2.20464,2.1999,2.19517,2.19043,2.18569,2.18095,2.17622,2.17148,2.16674,2.16201,2.15727,2.15253,2.1478,2.14306,2.13832,2.13359,2.12885,2.12411,2.11937,2.11464,2.1099,2.10516,2.10043,2.09569,2.09095,2.08622,2.08148,2.07674,2.07201,2.06727,2.06253,2.0578,2.05306,2.04832,2.04358,2.03885,2.03411,2.02937,2.02464,2.0199,2.01516,2.01043,2.00569,2.00095,1.99622,1.99148,1.98674,1.982,1.97727,1.97253,1.96779,1.96306,1.95832,1.95358,1.94885,1.94411,1.93937,1.93464,1.9299,1.92516,1.92042,1.91569,1.91095,1.90621,1.90148,1.89674,1.892,1.88727,1.88253,1.87779,1.87306,1.86832,1.86358,1.85885,1.85411,1.84937,1.84463,1.8399,1.83516,1.83042,1.82569,1.82095,1.81621,1.81148,1.80674,1.802,1.79727,1.79253,1.78779,1.78305,1.77832,1.77358,1.76884,1.76411,1.75937,1.75463,1.7499,1.74516,1.74042,1.73569,1.73095,1.72621,1.72148,1.71674,1.712,1.70726,1.70253,1.69779,1.69305,1.68832,1.68358,1.67884,1.67411,1.66937,1.66463,1.6599,1.65516,1.65042,1.64568,1.64095,1.63621,1.63147,1.62674,1.622,1.61726,1.61253,1.60779,1.60305,1.59832,1.59358,1.58884,1.58411,1.57937,1.57463,1.56989,1.56516,1.56042,1.55568,1.55095,1.54621,1.54147,1.53674,1.532,1.52726,1.52253,1.51779,1.51305,1.50831,1.50358,1.49884,1.4941,1.48937,1.48463,1.47989,1.47516,1.47042,1.46568,1.46095,1.45621,1.45147,1.44673,1.442,1.43726,1.43252,1.42779,1.42305,1.41831,1.41358,1.40884,1.4041,1.39937,1.39463,1.38989,1.38516,1.38042,1.37568,1.37094,1.36621,1.36147,1.35673,1.352,1.34726,1.34252,1.33779,1.33305,1.32831,1.32358,1.31884,1.3141,1.30936,1.30463,1.29989,1.29515,1.29042,1.28568,1.28094,1.27621,1.27147,1.26673,1.262,1.25726,1.25252,1.24779,1.24305,1.23831,1.23357,1.22884,1.2241,1.21936,1.21463,1.20989,1.20515,1.20042,1.19568,1.19094,1.18621,1.18147,1.17673,1.17199,1.16726,1.16252,1.15778,1.15305,1.14831,1.14357,1.13884,1.1341,1.12936,1.12463,1.11989,1.11515,1.11041,1.10568,1.10094,1.0962,1.09147,1.08673,1.08199,1.07726,1.07252,1.06778,1.06305,1.05831,1.05357,1.04884,1.0441,1.03936,1.03462,1.02989,1.02515,1.02041,1.01568,1.01094,1.0062,1.00147,0.996729,0.991993,0.987256,0.982519,0.977782,0.973045,0.968308,0.963572,0.958835,0.954098,0.949361,0.944624,0.939887,0.935151,0.930414,0.925677,0.92094,0.916203,0.911466,0.906729,0.901993,0.897256,0.892519,0.887782,0.883045,0.878308,0.873572,0.868835,0.864098,0.859361,0.854624,0.849887,0.845151,0.840414,0.835677,0.83094,0.826203,0.821466,0.816729,0.811993,0.807256,0.802519,0.797782,0.793045,0.788308,0.783572,0.778835,0.774098,0.769361,0.764624,0.759887,0.755151,0.750414,0.745677,0.74094,0.736203,0.731466,0.72673,0.721993,0.717256,0.712519,0.707782,0.703045,0.698308,0.693572,0.688835,0.684098,0.679361,0.674624,0.669887,0.665151,0.660414,0.655677,0.65094,0.646203,0.641466,0.63673,0.631993,0.627256,0.622519,0.617782,0.613045,0.608308,0.603572,0.598835,0.594098,0.589361,0.584624,0.579887,0.575151,0.570414,0.565677,0.56094,0.556203,0.551466,0.54673,0.541993,0.537256,0.532519,0.527782,0.523045,0.518309,0.513572,0.508835,0.504098,0.499361,0.494624,0.489887,0.485151,0.480414,0.475677,0.47094,0.466203,0.461466,0.45673,0.451993,0.447256,0.442519,0.437782,0.433045,0.428309,0.423572,0.418835,0.414098,0.409361,0.404624,0.399888,0.394624,0.389361,0.384098,0.378835,0.373572,0.368309,0.363045,0.357782,0.352519,0.347256,0.341993,0.33673,0.331467,0.326203,0.32094,0.315677,0.310414,0.305151,0.299888,0.294625,0.289361,0.284098,0.278835,0.273572,0.268309,0.263046,0.257782,0.252519,0.247256,0.241993,0.23673,0.231467,0.226203,0.22094,0.215677,0.210414,0.205151,0.199888,0.194624,0.189361,0.184098,0.178835,0.173572,0.168309,0.163046,0.157782,0.152519,0.147256,0.141993,0.13673,0.131467,0.126203,0.12094,0.115677,0.110414,0.105151,0.0998876,0.0946244,0.0893613,0.0840981,0.0788349,0.0735718,0.0683086,0.0630455,0.0577823,0.0525192,0.047256,0.0419928,0.0367297,0.0314665,0.0262034,0.0209402,0.0156771,0.0104139,0.00515074,-0.000112417,-0.00537558,-0.0106387,-0.0159019,-0.0211651,-0.0264282,-0.0316914,-0.0369545,-0.0422177,-0.0474808,-0.052744,-0.0580072,-0.0632703,-0.0685335,-0.0737966,-0.0790598,-0.0843229,-0.0895861,-0.0948493,-0.100112,-0.105376,-0.110639,-0.115902,-0.121165,-0.126428,-0.131691,-0.136955,-0.142218,-0.147481,-0.152744,-0.158007,-0.16327,-0.168534,-0.173797,-0.17906,-0.184323,-0.189586,-0.194849,-0.200113,-0.205376,-0.210639,-0.215902,-0.221165,-0.226428,-0.231691,-0.236955,-0.242218,-0.247481,-0.252744,-0.258007,-0.26327,-0.268534,-0.273797,-0.27906,-0.284323,-0.289586,-0.294849,-0.300112,-0.305376,-0.310639,-0.315902,-0.321165,-0.326428,-0.331691,-0.336955,-0.342218,-0.347481,-0.352744,-0.358007,-0.36327,-0.368533,-0.373797,-0.37906,-0.384323,-0.389586,-0.394849,-0.400112,-0.405375,-0.410639,-0.415902,-0.421165,-0.426428,-0.431691,-0.436954,-0.442218,-0.447481,-0.452744,-0.458007,-0.46327,-0.468533,-0.473796,-0.47906,-0.484323,-0.489586,-0.494849,-0.500112,-0.505375,-0.510638,-0.515902,-0.521165,-0.526428,-0.531691,-0.536954,-0.542217,-0.547481,-0.552744,-0.558007,-0.56327,-0.568533,-0.573796,-0.579059,-0.584323,-0.589586,-0.594849,-0.600112,-0.602744,-0.605375,-0.608007,-0.610638,-0.61327,-0.615902,-0.618533,-0.621165,-0.623796,-0.626428,-0.62906,-0.631691,-0.634323,-0.636954,-0.639586,-0.642218,-0.644849,-0.647481,-0.650113,-0.652744,-0.655376,-0.658007,-0.660639,-0.663271,-0.665902,-0.668534,-0.671165,-0.673797,-0.676429,-0.67906,-0.681692,-0.684323,-0.686955,-0.689587,-0.692218,-0.69485,-0.697481,-0.700113,-0.702745,-0.705376,-0.708008,-0.710639,-0.713271,-0.715903,-0.718534,-0.721166,-0.723797,-0.726429,-0.729061,-0.731692,-0.734324,-0.736955,-0.739587,-0.742219,-0.74485,-0.747482,-0.750113,-0.752745,-0.755377,-0.758008,-0.76064,-0.763272,-0.765903,-0.768535,-0.771166,-0.773798,-0.77643,-0.779061,-0.781693,-0.784324,-0.786956,-0.789588,-0.792219,-0.794851,-0.797482,-0.800114,-0.802746,-0.805377,-0.808009,-0.81064,-0.813272,-0.815904,-0.818535,-0.821167,-0.823798,-0.82643,-0.829062,-0.831693,-0.834325,-0.836956,-0.839588,-0.84222,-0.844851,-0.847483,-0.850114,-0.852746,-0.855378,-0.858009,-0.860641,-0.863272,-0.865904,-0.868536,-0.871167,-0.873799,-0.876431,-0.879062,-0.881694,-0.884325,-0.886957,-0.889589,-0.89222,-0.894852,-0.897483,-0.900115,-0.902747,-0.905378,-0.90801,-0.910641,-0.913273,-0.915905,-0.918536,-0.921168,-0.923799,-0.926431,-0.929063,-0.931694,-0.934326,-0.936957,-0.939589,-0.942221,-0.944852,-0.947484,-0.950115,-0.952747,-0.955379,-0.95801,-0.960642,-0.963273,-0.965905,-0.968537,-0.971168,-0.9738,-0.976431,-0.979063,-0.981695,-0.984326,-0.986958,-0.98959,-0.992221,-0.994853,-0.997484,-1.00012,-1.00275,-1.00538,-1.00801,-1.01064,-1.01327,-1.01591,-1.01854,-1.02117,-1.0238,-1.02643,-1.02906,-1.03169,-1.03433,-1.03696,-1.03959,-1.04222,-1.04485,-1.04748,-1.05012,-1.05275,-1.05538,-1.05801,-1.06064,-1.06327,-1.0659,-1.06854,-1.07117,-1.0738,-1.07643,-1.07906,-1.08169,-1.08433,-1.08696,-1.08959,-1.09222,-1.09485,-1.09748,-1.10011 };
//Auxiliary variables to be able to iterate on the arrangements, as well as for the control of the animation
int i=0,j=0,k=0,l=0,m=0;

// Positions of the point lights
glm::vec3 pointLightPositions[] = {
	glm::vec3(-6.9f, 6.75f, 6.4f), //Located in the first ceiling lamp inside the living room of the house
	glm::vec3(-6.9f, 6.75f, -4.2f), //Located in the second ceiling lamp inside the living room of the house
	glm::vec3(4.5f,15.6f,-2.5f), //Located in the ceiling lamp inside tommy's room
	glm::vec3(10.8f, 11.75f, 3.2f), //Located in the light bulb of the lamp object at tommy's room
	glm::vec3(-5.05f, 5.0f, -8.48f) //Located in the light bulb of the lamp object at the living room of the house
};

/*
Vertices data are defined, in this case position and normals; 
the geometry of the vertices form a cube, it will be used if it's necessary
*/
float vertices[] = {
	//Position             //Normals
	 -0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,
		0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,
		0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f,
		0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f,
	   -0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f,
	   -0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,

	   -0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f,
		0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f,
		0.5f,  0.5f,  0.5f,  0.0f,  0.0f,  1.0f,
		0.5f,  0.5f,  0.5f,  0.0f,  0.0f,  1.0f,
	   -0.5f,  0.5f,  0.5f,  0.0f,  0.0f,  1.0f,
	   -0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f,

	   -0.5f,  0.5f,  0.5f, -1.0f,  0.0f,  0.0f,
	   -0.5f,  0.5f, -0.5f, -1.0f,  0.0f,  0.0f,
	   -0.5f, -0.5f, -0.5f, -1.0f,  0.0f,  0.0f,
	   -0.5f, -0.5f, -0.5f, -1.0f,  0.0f,  0.0f,
	   -0.5f, -0.5f,  0.5f, -1.0f,  0.0f,  0.0f,
	   -0.5f,  0.5f,  0.5f, -1.0f,  0.0f,  0.0f,

		0.5f,  0.5f,  0.5f,  1.0f,  0.0f,  0.0f,
		0.5f,  0.5f, -0.5f,  1.0f,  0.0f,  0.0f,
		0.5f, -0.5f, -0.5f,  1.0f,  0.0f,  0.0f,
		0.5f, -0.5f, -0.5f,  1.0f,  0.0f,  0.0f,
		0.5f, -0.5f,  0.5f,  1.0f,  0.0f,  0.0f,
		0.5f,  0.5f,  0.5f,  1.0f,  0.0f,  0.0f,

	   -0.5f, -0.5f, -0.5f,  0.0f, -1.0f,  0.0f,
		0.5f, -0.5f, -0.5f,  0.0f, -1.0f,  0.0f,
		0.5f, -0.5f,  0.5f,  0.0f, -1.0f,  0.0f,
		0.5f, -0.5f,  0.5f,  0.0f, -1.0f,  0.0f,
	   -0.5f, -0.5f,  0.5f,  0.0f, -1.0f,  0.0f,
	   -0.5f, -0.5f, -0.5f,  0.0f, -1.0f,  0.0f,

	   -0.5f,  0.5f, -0.5f,  0.0f,  1.0f,  0.0f,
		0.5f,  0.5f, -0.5f,  0.0f,  1.0f,  0.0f,
		0.5f,  0.5f,  0.5f,  0.0f,  1.0f,  0.0f,
		0.5f,  0.5f,  0.5f,  0.0f,  1.0f,  0.0f,
	   -0.5f,  0.5f,  0.5f,  0.0f,  1.0f,  0.0f,
	   -0.5f,  0.5f, -0.5f,  0.0f,  1.0f,  0.0f
};

//For Skybox geometry
GLfloat skyboxVertices[] = {
	// Positions
	-1.0f,  1.0f, -1.0f,
	-1.0f, -1.0f, -1.0f,
	1.0f, -1.0f, -1.0f,
	1.0f, -1.0f, -1.0f,
	1.0f,  1.0f, -1.0f,
	-1.0f,  1.0f, -1.0f,

	-1.0f, -1.0f,  1.0f,
	-1.0f, -1.0f, -1.0f,
	-1.0f,  1.0f, -1.0f,
	-1.0f,  1.0f, -1.0f,
	-1.0f,  1.0f,  1.0f,
	-1.0f, -1.0f,  1.0f,

	1.0f, -1.0f, -1.0f,
	1.0f, -1.0f,  1.0f,
	1.0f,  1.0f,  1.0f,
	1.0f,  1.0f,  1.0f,
	1.0f,  1.0f, -1.0f,
	1.0f, -1.0f, -1.0f,

	-1.0f, -1.0f,  1.0f,
	-1.0f,  1.0f,  1.0f,
	1.0f,  1.0f,  1.0f,
	1.0f,  1.0f,  1.0f,
	1.0f, -1.0f,  1.0f,
	-1.0f, -1.0f,  1.0f,

	-1.0f,  1.0f, -1.0f,
	1.0f,  1.0f, -1.0f,
	1.0f,  1.0f,  1.0f,
	1.0f,  1.0f,  1.0f,
	-1.0f,  1.0f,  1.0f,
	-1.0f,  1.0f, -1.0f,

	-1.0f, -1.0f, -1.0f,
	-1.0f, -1.0f,  1.0f,
	1.0f, -1.0f, -1.0f,
	1.0f, -1.0f, -1.0f,
	-1.0f, -1.0f,  1.0f,
	1.0f, -1.0f,  1.0f
};

/*
A vector 3 is declared for each light element, 
so that the ambiental and diffuse property can be controlled,
allowing a light color to be handled
*/
glm::vec3 Light1 = glm::vec3(0);
glm::vec3 Light2 = glm::vec3(0);
glm::vec3 Light3 = glm::vec3(0);
glm::vec3 Light4 = glm::vec3(0);
glm::vec3 Light5 = glm::vec3(0);

/*
Deltatime:
Stores the time it took to render the last frame. 
By using this approach the camera speed will be balanced
*/
GLfloat deltaTime = 0.0f;	// Time between current frame and last frame
GLfloat lastFrame = 0.0f;  	// Time of last frame

int main() //Main function
{
	//Initializes the GLFW library
	glfwInit();
	
	/*
	Set all the required options for GLFW
	
	glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);
	glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);
	glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);
	glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE);
	glfwWindowHint(GLFW_RESIZABLE, GL_FALSE);

	*/

	// Create a GLFWwindow object that we can use for GLFW's functions
	GLFWwindow* window = glfwCreateWindow(WIDTH, HEIGHT, "Tommy's House", nullptr, nullptr);

	//In case the window object is not created correctly error message is sent in console
	if (nullptr == window)
	{
		std::cout << "Failed to create GLFW window" << std::endl;
		/*
		If there is a fail, this function will destroy all remaining windows and cursors, 
		restores any modified gamma ramps and frees any other allocated resources.
		*/
		glfwTerminate();

		return EXIT_FAILURE; //Defined value for failure, 1
	}

	glfwMakeContextCurrent(window); //This function makes the OpenGL context of the specified window current on the calling thread

	glfwGetFramebufferSize(window, &SCREEN_WIDTH, &SCREEN_HEIGHT); //For directly retrieving the current size of the framebuffer of a window

	// Set the required callback functions
	glfwSetKeyCallback(window, KeyCallback); //This function sets the key callback of the specified window, which is called when a key is pressed
	glfwSetCursorPosCallback(window, MouseCallback);//This function sets the cursor position callback of the specified window, which is called when the cursor is moved

	// GLFW Options
	glfwSetInputMode(window, GLFW_CURSOR, GLFW_CURSOR_DISABLED); /*This function sets an input mode option for the specified window.
																 GLFW_CURSOR_DISABLED hides and grabs the cursor, providing virtual and unlimited cursor movement.*/

	// Set this to true so GLEW knows to use a modern approach to retrieving function pointers and extensions
	glewExperimental = GL_TRUE;

	// Initialize GLEW to setup the OpenGL Function pointers
	if (GLEW_OK != glewInit())
	{
		std::cout << "Failed to initialize GLEW" << std::endl;
		return EXIT_FAILURE;
	}

	// Define the viewport dimensions
	glViewport(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);

	//Opening the shaders to use
	Shader lightingShader("Shaders/lighting.vs", "Shaders/lighting.frag");
	Shader lampShader("Shaders/lamp.vs", "Shaders/lamp.frag");
	Shader SkyBoxshader("Shaders/SkyBox.vs", "Shaders/SkyBox.frag");

	//Loading the models to use
	Model House((char*)"Models/House/House_No_Windows_unsized.obj");
	Model Windows((char*)"Models/House/Windows_unsized.obj");
	Model Zaguan((char*)"Models/House/Saguan_unsized.obj");

	Model Cortinas((char*)"Models/Cortinas/Cortinas.obj");
	Model Bed((char*)"Models/Cama/Bed.obj");

	Model Chest_B((char*)"Models/Chest/Base.obj");
	Model Chest_S((char*)"Models/Chest/Superior.obj");

	Model Pelota((char*)"Models/Accesorios/pelota.obj");

	Model cuerpo((char*)"Models/Reptar/Body.obj");
	Model pierna1((char*)"Models/Reptar/LEG1.obj");
	Model pierna2((char*)"Models/Reptar/LEG2.obj");

	Model Cajonera((char*)"Models/Cajonera/cajonera.obj");
	Model Cajonera_S((char*)"Models/Cajonera/Cajon_Sup.obj");
	Model Cajonera_M((char*)"Models/Cajonera/Cajon_Med.obj");
	Model Cajonera_I((char*)"Models/Cajonera/Cajon_Inf.obj");

	Model Lampara((char*)"Models/Lamp/Lamp.obj");
	Model foco((char*)"Models/Lamp/foco.obj");

	Model Mamila((char*)"Models/Accesorios/mamila.obj");
	Model Sonaja((char*)"Models/Accesorios/Sonaja.obj");

	Model Sofa((char*)"Models/Sofa/sofa.obj");
	Model reposador((char*)"Models/Sofa/reposador.obj");

	Model C_lamp((char*)"Models/Ceiling_Lamp/Base.obj");
	Model C_foco((char*)"Models/Ceiling_Lamp/foco.obj");

	Model Cuna((char*)"Models/Cuna/Base_Cuna.obj");
	Model Cuna_G1((char*)"Models/Cuna/Giratorio1_cuna.obj");
	Model Cuna_G2((char*)"Models/Cuna/Giratorio2_cuna.obj");

	Model B_lamp((char*)"Models/Base_Lamp/lampara.obj");
	Model B_foco((char*)"Models/Base_Lamp/foco.obj");

	Model comoda((char*)"Models/comoda/comoda.obj");

	Model Baby_pen((char*)"Models/baby_pen/babypen.obj");

	Model table((char*)"Models/table/table.obj");
	Model chair((char*)"Models/chair/chair.obj");
	Model phone((char*)"Models/Phone/Phone.obj");

	Model PhtoFrame((char*)"Models/Photo_Frame/Photo_Frame.obj");
	Model glass((char*)"Models/Photo_Frame/glass.obj");
	Model floor((char*)"Models/floor/floor.obj");

	Model glass_c((char*)"Models/Candle/glass.obj");
	Model candle((char*)"Models/Candle/candle.obj");

	Model plant1((char*)"Models/Plants/Plant.obj");
	Model plant2((char*)"Models/Plants/Plant2.obj");
	Model tv_furniture((char*)"Models/TV furniture/Furniture.obj");

	// Set the container's VAO (and VBO), it will be used only if necessary
	GLuint VBO, VAO;
	glGenVertexArrays(1, &VAO);
	glGenBuffers(1, &VBO);
	glBindVertexArray(VAO);
	glBindBuffer(GL_ARRAY_BUFFER, VBO);
	glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);
	// Position attribute
	glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 6 * sizeof(GLfloat), (GLvoid*)0);
	glEnableVertexAttribArray(0);
	// normal attribute
	glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, 6 * sizeof(float), (void*)(3 * sizeof(float)));
	glEnableVertexAttribArray(1);

	// Set texture units
	lightingShader.Use();
	glUniform1i(glGetUniformLocation(lightingShader.Program, "material.diffuse"), 0);
	glUniform1i(glGetUniformLocation(lightingShader.Program, "material.specular"), 1);

	//Skybox
	GLuint skyboxVBO, skyboxVAO;
	glGenVertexArrays(1, &skyboxVAO);
	glGenBuffers(1, &skyboxVBO);
	glBindVertexArray(skyboxVAO);
	glBindBuffer(GL_ARRAY_BUFFER, skyboxVBO);
	glBufferData(GL_ARRAY_BUFFER, sizeof(skyboxVertices), &skyboxVertices, GL_STATIC_DRAW);
	glEnableVertexAttribArray(0);
	glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(GLfloat), (GLvoid*)0);

	//Load textures of the skybox
	vector<const GLchar*> faces;
	faces.push_back("SkyBox/sh_rt.png");
	faces.push_back("SkyBox/sh_lf.png");
	faces.push_back("SkyBox/sh_up.png");
	faces.push_back("SkyBox/sh_dn.png");
	faces.push_back("SkyBox/sh_bk.png");
	faces.push_back("SkyBox/sh_ft.png");

	GLuint cubemapTexture = TextureLoading::LoadCubemap(faces);

	// Establishing a perspective projection of the camera
	glm::mat4 projection = glm::perspective(camera.GetZoom(), (GLfloat)SCREEN_WIDTH / (GLfloat)SCREEN_HEIGHT, 0.1f, 100.0f);

	// Game loop
	while (!glfwWindowShouldClose(window))
	{

		// Calculate deltatime of current frame
		GLfloat currentFrame = glfwGetTime();
		deltaTime = currentFrame - lastFrame;
		lastFrame = currentFrame;

		// Check if any events have been activiated (key pressed, mouse moved etc.) and call corresponding response functions
		glfwPollEvents();
		DoMovement();

		// Clear the colorbuffer
		glClearColor(0.1f, 0.1f, 0.1f, 1.0f);
		glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

		// OpenGL options
		glEnable(GL_DEPTH_TEST);

		// Use cooresponding shader when setting uniforms/drawing objects
		lightingShader.Use();
		GLint viewPosLoc = glGetUniformLocation(lightingShader.Program, "viewPos");
		glUniform3f(viewPosLoc, camera.GetPosition().x, camera.GetPosition().y, camera.GetPosition().z);

		// Directional light
		glUniform3f(glGetUniformLocation(lightingShader.Program, "dirLight.direction"), -20.0f, 30.0f, -20.3f);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "dirLight.ambient"), 0.55f, 0.55f, 0.55f);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "dirLight.diffuse"), 0.1f, 0.1f, 0.1f);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "dirLight.specular"), 0.1f, 0.1f, 0.1f);


		// Point light 1
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[0].position"), pointLightPositions[0].x, pointLightPositions[0].y, pointLightPositions[0].z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[0].ambient"), Light1.x, Light1.y, Light1.z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[0].diffuse"), Light1.x, Light1.y, Light1.z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[0].specular"), 0.0f, 0.0f, 0.0f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[0].constant"), 1.0f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[0].linear"), 0.22f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[0].quadratic"), 0.20f);


		// Point light 2
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[1].position"), pointLightPositions[1].x, pointLightPositions[1].y, pointLightPositions[1].z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[1].ambient"), Light2.x, Light2.y, Light2.z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[1].diffuse"), Light2.x, Light2.y, Light2.z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[1].specular"), 0.0f, 0.0f, 0.0f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[1].constant"), 1.0f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[1].linear"), 0.22f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[1].quadratic"), 0.20f);

		// Point light 3
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[2].position"), pointLightPositions[2].x, pointLightPositions[2].y, pointLightPositions[2].z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[2].ambient"), Light3.x, Light3.y, Light3.z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[2].diffuse"), Light3.x, Light3.y, Light3.z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[2].specular"), 0.0f, 0.0f, 0.0f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[2].constant"), 1.0f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[2].linear"), 0.22f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[2].quadratic"), 0.20f);

		// Point light 4
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[3].position"), pointLightPositions[3].x, 13.2f, pointLightPositions[3].z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[3].ambient"), Light4.x, Light4.y, Light4.z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[3].diffuse"), Light4.x, Light4.y, Light4.z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[3].specular"), 0.0f, 0.0f, 0.0f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[3].constant"), 1.0f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[3].linear"), 0.7f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[3].quadratic"), 1.8f);

		// Point light 5
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[4].position"), pointLightPositions[4].x, pointLightPositions[4].y, pointLightPositions[4].z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[4].ambient"), Light5.x, Light5.y, Light5.z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[4].diffuse"), Light5.x, Light5.y, Light5.z);
		glUniform3f(glGetUniformLocation(lightingShader.Program, "pointLights[4].specular"), 0.0f, 0.0f, 0.0f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[4].constant"), 1.0f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[4].linear"), 0.2f);
		glUniform1f(glGetUniformLocation(lightingShader.Program, "pointLights[4].quadratic"), 1.2f);

		// Set material properties
		glUniform1f(glGetUniformLocation(lightingShader.Program, "material.shininess"), 22.0f); //Brillo del objeto

		// Create camera transformations
		glm::mat4 view;
		view = camera.GetViewMatrix();

		// Get the uniform locations
		GLint modelLoc = glGetUniformLocation(lightingShader.Program, "model");
		GLint viewLoc = glGetUniformLocation(lightingShader.Program, "view");
		GLint projLoc = glGetUniformLocation(lightingShader.Program, "projection");

		// Pass the matrices to the shader
		glUniformMatrix4fv(viewLoc, 1, GL_FALSE, glm::value_ptr(view));
		glUniformMatrix4fv(projLoc, 1, GL_FALSE, glm::value_ptr(projection));

		glm::mat4 model(1);
		glBindVertexArray(0);

		//Loading, drawing and spacing objects
		//House facade without windows
		model = glm::mat4(1);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		House.Draw(lightingShader);
		glBindVertexArray(0);

		//Grass floor
		model = glm::mat4(1);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		floor.Draw(lightingShader);
		glBindVertexArray(0);

		// Zaguan:
		model = glm::mat4(1);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Zaguan.Draw(lightingShader);
		glBindVertexArray(0);

		// Curtains in tommys room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(11.4f, 8.5f, -2.0f));
		model = glm::scale(model, glm::vec3(1.0f, 1.1f, 1.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Cortinas.Draw(lightingShader);
		glBindVertexArray(0);

		// Curtains in tommys room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(7.5f, 8.5f, -11.6f));
		model = glm::rotate(model, glm::radians(90.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(0.995f, 1.2f, 1.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Cortinas.Draw(lightingShader);
		glBindVertexArray(0);

		// Bed in tommys room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(8.2f, 9.22f, -8.9));
		model = glm::rotate(model, glm::radians(180.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.4f, 1.6f, 1.8f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Bed.Draw(lightingShader);
		glBindVertexArray(0);

		//Toy chest base in tommys room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(11.0f, 10.7f, -2.0f));
		model = glm::rotate(model, glm::radians(90.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.6f, 1.6f, 1.6f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Chest_B.Draw(lightingShader);
		glBindVertexArray(0);

		//Toy chest lid in tommys room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(11.0f, 10.7f, -2.0f));
		model = glm::rotate(model, glm::radians(90.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.6f, 1.6f, 1.6f));
		model = glm::rotate(model, glm::radians(rot), glm::vec3(1.0f, 0.0f, 0.0f)); //using the variable rot to display the opening and closing of the toy chest using the rotation transformation 
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Chest_S.Draw(lightingShader);
		glBindVertexArray(0);

		//Ball in tommy's room
		model = glm::mat4(1);
		//Using the variables which store a consecutive value of the array obtained with keyframes to animate the bounce of the ball
		model = glm::translate(model, glm::vec3(7.2f, rise, 0.0f));
		model = glm::scale(model, glm::vec3(1.5f, scale, 1.5f));
		model = glm::rotate(model, glm::radians(rotP), glm::vec3(1.0f, 0.0f, 0.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Pelota.Draw(lightingShader);
		glBindVertexArray(0);

		//Reptar toy in tommy's room (BODY)
		model = glm::mat4(1);
		//Using the variables which store a consecutive value of the array obtained with keyframes to animate the reptar's walking
		model = glm::translate(model, glm::vec3(walk, 9.5f, -3.0f));
		model = glm::rotate(model, glm::radians(rotR), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(0.9f, 0.9f, 0.9f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		cuerpo.Draw(lightingShader);
		glBindVertexArray(0);

		//Reptar toy in tommy's room (LEFT LEG)
		model = glm::mat4(1);
		//Using the variables which store a consecutive value of the array obtained with keyframes to animate the reptar's walking
		model = glm::translate(model, glm::vec3(walk, 9.5f, -3.0f));
		model = glm::rotate(model, glm::radians(rotR), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(0.9f, 0.9f, 0.9f));
		model = glm::rotate(model, glm::radians(-rotLeg1), glm::vec3(1.0f, 0.0f, 0.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		pierna1.Draw(lightingShader);
		glBindVertexArray(0);

		//Reptar toy in tommy's room (RIGHT LEG)
		model = glm::mat4(1);
		//Using the variables which store a consecutive value of the array obtained with keyframes to animate the reptar's walking
		model = glm::translate(model, glm::vec3(walk, 9.5f, -3.0f));
		model = glm::rotate(model, glm::radians(rotR), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(0.9f, 0.9f, 0.9f));
		model = glm::rotate(model, glm::radians(-rotLeg2), glm::vec3(1.0f, 0.0f, 0.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		pierna2.Draw(lightingShader);
		glBindVertexArray(0);

		//Chest of drawers (without drawers)
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(10.8f, 9.15f, 4.0f));
		model = glm::rotate(model, glm::radians(180.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.7f, 1.7f, 1.7f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Cajonera.Draw(lightingShader);
		glBindVertexArray(0);
		
		//Top drawer 
		model = glm::mat4(1);
		//using the variable "avanzo" to be able to move on the x-axis to each drawer
		model = glm::translate(model, glm::vec3(avanzo, 9.15f, 4.0f));
		model = glm::rotate(model, glm::radians(180.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.7f, 1.7f, 1.7f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Cajonera_S.Draw(lightingShader);
		glBindVertexArray(0);
		
		//middle drawer
		model = glm::mat4(1);
		//using the variable "avanzo" to be able to move on the x-axis to each drawer
		model = glm::translate(model, glm::vec3(avanzo, 9.15f, 4.0f));
		model = glm::rotate(model, glm::radians(180.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.7f, 1.7f, 1.7f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Cajonera_M.Draw(lightingShader);
		glBindVertexArray(0);

		//bottom drawer
		model = glm::mat4(1);
		//using the variable "avanzo" to be able to move on the x-axis to each drawer
		model = glm::translate(model, glm::vec3(avanzo, 9.15f, 4.0f));
		model = glm::rotate(model, glm::radians(180.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.7f, 1.7f, 1.7f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Cajonera_I.Draw(lightingShader);
		glBindVertexArray(0);

		//"Reptar" lamp without bulb
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(10.8f, 11.75f, 3.2f));
		model = glm::rotate(model, glm::radians(-90.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(0.23f, 0.23f, 0.23f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Lampara.Draw(lightingShader);
		glBindVertexArray(0);

		//feeding bottle
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(10.8f, 11.75f, 5.0f));
		model = glm::scale(model, glm::vec3(1.3f, 1.3f, 1.3f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Mamila.Draw(lightingShader);
		glBindVertexArray(0);

		//rattle
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(10.2f, 9.15f, 2.0f));
		model = glm::rotate(model, glm::radians(-110.0f), glm::vec3(1.0f, 1.0f, 1.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Sonaja.Draw(lightingShader);
		glBindVertexArray(0);

		//sofa in the second room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-6.2f, 0.4f, -1.6f));
		model = glm::rotate(model, glm::radians(90.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(2.35f, 2.35f, 2.35f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Sofa.Draw(lightingShader);
		glBindVertexArray(0);

		//Footrest in the second room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-7.386f, 0.42f, -0.6f));
		model = glm::rotate(model, glm::radians(180.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.15f, 1.15f, 1.15f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		reposador.Draw(lightingShader);
		glBindVertexArray(0);

		//object ceiling lamp (support only, does not include the bulb as this will be drawn with another shader) in Tommy's room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(4.5f,15.6f,-2.5f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		C_lamp.Draw(lightingShader);
		glBindVertexArray(0);

		//object ceiling lamp (support only, does not include the bulb as this will be drawn with another shader) in the second room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-6.9f, 6.75f, -4.2f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		C_lamp.Draw(lightingShader);
		glBindVertexArray(0);

		//object ceiling lamp (support only, does not include the bulb as this will be drawn with another shader) in the second room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-6.9f, 6.75f, 6.4f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		C_lamp.Draw(lightingShader);
		glBindVertexArray(0);

		//cradle in tommys room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(1.25f, 7.35f, -8.15f));
		model = glm::rotate(model, glm::radians(180.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(2.2f, 2.0f, 1.8f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Cuna.Draw(lightingShader);
		glBindVertexArray(0);

		//swivel stand belonging to the cradle object
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(1.25f, 7.35f, -8.15f));
		model = glm::rotate(model, glm::radians(180.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(2.2f, 2.0f, 1.8f));
		model = glm::rotate(model, glm::radians(giro), glm::vec3(0.0f, 1.0f, 0.0f)); //the variable "giro" allows to vary the rotation values
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Cuna_G1.Draw(lightingShader);
		glBindVertexArray(0);

		//Image of "reptar" representing the hanging and rotating object of the crib
		glEnable(GL_BLEND); // Blend the computed fragment color values with the values in the color buffers
		glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);//Defines the operation of blending for all draw buffers when it is enabled. 
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(1.25f, 7.35f, -8.15f));
		model = glm::rotate(model, glm::radians(180.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(2.2f, 2.0f, 1.8f));
		model = glm::rotate(model, glm::radians(giro), glm::vec3(0.0f, 1.0f, 0.0f));//the variable "giro" allows to vary the rotation values
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		glUniform1i(glGetUniformLocation(lightingShader.Program, "activaTransparencia"), 1);
		glUniform4f(glGetUniformLocation(lightingShader.Program, "colorAlpha"), 1.0, 1.0, 1.0, 5.0);
		Cuna_G2.Draw(lightingShader);
		glDisable(GL_BLEND);
		glUniform4f(glGetUniformLocation(lightingShader.Program, "colorAlpha"), 1.0, 1.0, 1.0, 1.0);
		glBindVertexArray(0);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		glUniform1i(glGetUniformLocation(lightingShader.Program, "activaTransparencia"), 0);

		//floor lamp in the second room of the house
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-2.8f, 0.5f, -11.15f));
		model = glm::rotate(model, glm::radians(-130.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.2f, 1.3f, 1.2f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		B_lamp.Draw(lightingShader);
		glBindVertexArray(0);

		//chest of drawers in the second room of the house
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-2.845f, 0.715f, -1.6f));
		model = glm::rotate(model, glm::radians(180.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.2f, 1.25f, 1.2f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		comoda.Draw(lightingShader);
		glBindVertexArray(0);

		//babypen in in the second room of the house
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-7.0f, 0.50f, -9.25f));
		model = glm::scale(model, glm::vec3(1.0f, 0.8f, 0.85f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		Baby_pen.Draw(lightingShader);
		glBindVertexArray(0);

		//table in the second room of the house
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-4.05f, 0.5f, 10.5f));
		model = glm::rotate(model, glm::radians(90.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.1f, 1.1f, 1.1f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		table.Draw(lightingShader);
		glBindVertexArray(0);

		//chair in the second room of the house
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-11.0f, 0.5f, 10.5f));
		model = glm::scale(model, glm::vec3(0.65f, 0.78f, 0.75f));
		model = glm::rotate(model, glm::radians(135.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		chair.Draw(lightingShader);
		glBindVertexArray(0);

		//phone in the second room of the house
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-4.5f, 2.95f, 10.0f));
		model = glm::scale(model, glm::vec3(0.95f, 0.95f, 0.95f));
		model = glm::rotate(model, glm::radians(135.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		phone.Draw(lightingShader);
		glBindVertexArray(0);

		//Photo frame in the second room of the house
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-2.55f, 2.65f, -1.5f));
		model = glm::rotate(model, glm::radians(-90.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.0f, 0.95f, 1.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		PhtoFrame.Draw(lightingShader);
		glBindVertexArray(0);

		//Glass of the Photo frame
		glEnable(GL_BLEND); // Blend the computed fragment color values with the values in the color buffers
		glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);//Defines the operation of blending for all draw buffers when it is enabled. 
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-2.55f, 2.65f, -1.5f));
		model = glm::rotate(model, glm::radians(-90.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.0f, 0.95f, 1.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		glUniform1i(glGetUniformLocation(lightingShader.Program, "activaTransparencia"), 1);
		glUniform4f(glGetUniformLocation(lightingShader.Program, "colorAlpha"), 1.0, 1.0, 1.0, 0.60);
		glass.Draw(lightingShader);
		glDisable(GL_BLEND);
		glUniform4f(glGetUniformLocation(lightingShader.Program, "colorAlpha"), 1.0, 1.0, 1.0, 1.0);
		glBindVertexArray(0);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		glUniform1i(glGetUniformLocation(lightingShader.Program, "activaTransparencia"), 0);

		//Candle in the second room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-2.75f, 2.62f, 0.15f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		candle.Draw(lightingShader);
		glBindVertexArray(0);

		//Glass for the candle
		glEnable(GL_BLEND); // Blend the computed fragment color values with the values in the color buffers
		glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);//Defines the operation of blending for all draw buffers when it is enabled. 
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-2.75f, 2.62f, 0.15f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		glUniform1i(glGetUniformLocation(lightingShader.Program, "activaTransparencia"), 1);
		glUniform4f(glGetUniformLocation(lightingShader.Program, "colorAlpha"), 1.0, 1.0, 1.0, 0.50);
		glass_c.Draw(lightingShader);
		glDisable(GL_BLEND);
		glUniform4f(glGetUniformLocation(lightingShader.Program, "colorAlpha"), 1.0, 1.0, 1.0, 1.0);
		glBindVertexArray(0);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		glUniform1i(glGetUniformLocation(lightingShader.Program, "activaTransparencia"), 0);

		//Plant over the chest of drawers in the second room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-2.75f, 2.62f,-3.25f));
		model = glm::rotate(model, glm::radians(45.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		plant1.Draw(lightingShader);
		glBindVertexArray(0);

		//Plant in the second room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-4.1f, 0.585f, 3.0f));
		model = glm::rotate(model, glm::radians(45.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		plant2.Draw(lightingShader);
		glBindVertexArray(0);

		//TV furniture in the second room
		model = glm::mat4(1);
		model = glm::translate(model, glm::vec3(-11.145f, 0.615f, -1.3f));
		model = glm::rotate(model, glm::radians(90.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		tv_furniture.Draw(lightingShader);
		glBindVertexArray(0);

		//using the lampshader for light effects on light bulbs as required
		//For the light bulb in the lamp object tommy's room
		lampShader.Use();

		// Get location objects for the matrices on the lamp shader
		modelLoc = glGetUniformLocation(lampShader.Program, "model");
		viewLoc = glGetUniformLocation(lampShader.Program, "view");
		projLoc = glGetUniformLocation(lampShader.Program, "projection");

		glUniformMatrix4fv(viewLoc, 1, GL_FALSE, glm::value_ptr(view));
		glUniformMatrix4fv(projLoc, 1, GL_FALSE, glm::value_ptr(projection));
		model = glm::mat4(1);
		model = glm::translate(model, lightPos);
		model = glm::scale(model, glm::vec3(0.23f)); // Make it a smaller light bulb
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		model = glm::mat4(1);
		model = glm::translate(model, pointLightPositions[3]);
		model = glm::scale(model, glm::vec3(0.23f)); // Make it a smaller light bulb
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		foco.Draw(lampShader);
		glBindVertexArray(0);

		//For the ceiling lamp 1 in the lamp object tommy's room
		lampShader.Use();

		// Get location objects for the matrices on the lamp shader
		modelLoc = glGetUniformLocation(lampShader.Program, "model");
		viewLoc = glGetUniformLocation(lampShader.Program, "view");
		projLoc = glGetUniformLocation(lampShader.Program, "projection");

		glUniformMatrix4fv(viewLoc, 1, GL_FALSE, glm::value_ptr(view));
		glUniformMatrix4fv(projLoc, 1, GL_FALSE, glm::value_ptr(projection));
		model = glm::mat4(1);
		model = glm::translate(model, lightPos);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		model = glm::mat4(1);
		model = glm::translate(model, pointLightPositions[2]);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		C_foco.Draw(lampShader);
		glBindVertexArray(0);

		//For the ceiling lamp 2 in the lamp object living room
		lampShader.Use();

		// Get location objects for the matrices on the lamp shader
		modelLoc = glGetUniformLocation(lampShader.Program, "model");
		viewLoc = glGetUniformLocation(lampShader.Program, "view");
		projLoc = glGetUniformLocation(lampShader.Program, "projection");

		glUniformMatrix4fv(viewLoc, 1, GL_FALSE, glm::value_ptr(view));
		glUniformMatrix4fv(projLoc, 1, GL_FALSE, glm::value_ptr(projection));
		model = glm::mat4(1);
		model = glm::translate(model, lightPos);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		model = glm::mat4(1);
		model = glm::translate(model, pointLightPositions[1]);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		C_foco.Draw(lampShader);
		glBindVertexArray(0);

		//For the ceiling lamp 3 in the lamp object living room
		lampShader.Use();

		// Get location objects for the matrices on the lamp shader
		modelLoc = glGetUniformLocation(lampShader.Program, "model");
		viewLoc = glGetUniformLocation(lampShader.Program, "view");
		projLoc = glGetUniformLocation(lampShader.Program, "projection");

		glUniformMatrix4fv(viewLoc, 1, GL_FALSE, glm::value_ptr(view));
		glUniformMatrix4fv(projLoc, 1, GL_FALSE, glm::value_ptr(projection));
		model = glm::mat4(1);
		model = glm::translate(model, lightPos);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		model = glm::mat4(1);
		model = glm::translate(model, pointLightPositions[0]);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		C_foco.Draw(lampShader);
		glBindVertexArray(0);

		//For the bulb lamp in the lamp object at the living room
		lampShader.Use();

		// Get location objects for the matrices on the lamp shader
		modelLoc = glGetUniformLocation(lampShader.Program, "model");
		viewLoc = glGetUniformLocation(lampShader.Program, "view");
		projLoc = glGetUniformLocation(lampShader.Program, "projection");

		glUniformMatrix4fv(viewLoc, 1, GL_FALSE, glm::value_ptr(view));
		glUniformMatrix4fv(projLoc, 1, GL_FALSE, glm::value_ptr(projection));
		model = glm::mat4(1);
		model = glm::translate(model, lightPos);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		model = glm::mat4(1);
		model = glm::translate(model, pointLightPositions[4]);
		model = glm::rotate(model, glm::radians(-130.0f), glm::vec3(0.0f, 1.0f, 0.0f));
		model = glm::scale(model, glm::vec3(1.2f, 1.3f, 1.2f));
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		B_foco.Draw(lampShader);
		glBindVertexArray(0);

		glDepthFunc(GL_LEQUAL);  // Change depth function so depth test passes when values are equal to depth buffer's content
		SkyBoxshader.Use();
		view = glm::mat4(glm::mat3(camera.GetViewMatrix()));	// Remove any translation component of the view matrix
		glUniformMatrix4fv(glGetUniformLocation(SkyBoxshader.Program, "view"), 1, GL_FALSE, glm::value_ptr(view));
		glUniformMatrix4fv(glGetUniformLocation(SkyBoxshader.Program, "projection"), 1, GL_FALSE, glm::value_ptr(projection));

		// skybox cube
		glBindVertexArray(skyboxVAO);
		glActiveTexture(GL_TEXTURE1);
		glBindTexture(GL_TEXTURE_CUBE_MAP, cubemapTexture);
		glDrawArrays(GL_TRIANGLES, 0, 36);
		glBindVertexArray(0);
		glDepthFunc(GL_LESS); // Set depth function back to default

		//Windows with transparency
		/*In order to observe objects through, such as windows, they must be drawn at the end of the object to be observed. 
		In this case, i want to se through windows the objects in the living room or from inside the room I want to see the skybox*/
		lightingShader.Use();
		modelLoc = glGetUniformLocation(lightingShader.Program, "model");
		viewLoc = glGetUniformLocation(lightingShader.Program, "view");
		projLoc = glGetUniformLocation(lightingShader.Program, "projection");
		glEnable(GL_BLEND); // Blend the computed fragment color values with the values in the color buffers
		glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA); //Defines the operation of blending for all draw buffers when it is enabled. 
		model = glm::mat4(1);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		glUniform1i(glGetUniformLocation(lightingShader.Program, "activaTransparencia"), 1);
		glUniform4f(glGetUniformLocation(lightingShader.Program, "colorAlpha"), 1.0, 1.0, 1.0, 0.70);
		Windows.Draw(lightingShader);
		glDisable(GL_BLEND);
		glUniform4f(glGetUniformLocation(lightingShader.Program, "colorAlpha"), 1.0, 1.0, 1.0, 1.0);
		glBindVertexArray(0);
		glUniformMatrix4fv(modelLoc, 1, GL_FALSE, glm::value_ptr(model));
		glUniform1i(glGetUniformLocation(lightingShader.Program, "activaTransparencia"), 0);


		// Swap the screen buffers
		glfwSwapBuffers(window);
	}

	// Terminate GLFW, clearing any resources allocated by GLFW.
	glfwTerminate();

	return 0;
}

// Moves/alters the camera positions based on user input
void DoMovement()
{

	// Camera controls
	if (keys[GLFW_KEY_W] || keys[GLFW_KEY_UP])
	{
		camera.ProcessKeyboard(FORWARD, deltaTime);

	}

	if (keys[GLFW_KEY_S] || keys[GLFW_KEY_DOWN])
	{
		camera.ProcessKeyboard(BACKWARD, deltaTime);


	}

	if (keys[GLFW_KEY_A] || keys[GLFW_KEY_LEFT])
	{
		camera.ProcessKeyboard(LEFT, deltaTime);


	}

	if (keys[GLFW_KEY_D] || keys[GLFW_KEY_RIGHT])
	{
		camera.ProcessKeyboard(RIGHT, deltaTime);


	}
	//Animation on the toy chest
	if (anim and close == true and open == false) //First, the toy chest is closed
	{
		if (rot < 46) { //Maximum rotation angle in 45
			rot += 1.0f; //increments in one unit until the angle is 45
			if (rot == 45) { //When 45 is reached, the animation has ended
				open = true;
				close = false;
				anim = false;
			}
		}
	}

	if (anim and open == true and close == false) { //Second moment the toy chest is open

		if (rot > -1) { //Maximum rotation angle in 0
			rot -= 1.0f; //decrements in one unit until 0
			if (rot == 0) {  //When 0 is reached, the animation has ended
				close = true;
				open = false;
				anim = false;
			}
		}
	}
	//Animation on the chest of drawers
	if (anim_dos and close2 == true and open2 == false)//first moment all drawers closed
	{
		if (avanzo < 10.9f)
		{
			avanzo -= 0.1f; //decrement by 0.1 units to the condition to stop the animation where the drawer is already open
			//the variable "avanzo" is shared by the 3 drawers, the upper, middle and lower, so they will be synchronized in movement when activating the animation
			if (avanzo == 9.699996f) {
				open2 = true;
				close2 = false;
				anim_dos = false;
			}
		}

	}

	if (anim_dos and open2 == true and close2 == false)//second moment all drawers open
	{
		if (avanzo > 9.699995f)
		{
			avanzo += 0.1f; //increment by 0.1 units to the condition to stop the animation where the drawer is already closed
			if (avanzo == 10.8f) {//the variable "avanzo" is shared by the 3 drawers, the upper, middle and lower, so they will be synchronized in movement when activating the animation
				open2 = false;
				close2 = true;
				anim_dos = false;
			}
		}

	}
	//Animation of the rotating components of the crib
	if (anim_tres == true) {
		giro += 0.5f; //step increments by 0.5 until a full lap is completed, at which point the animation ends
		if (giro == 360.5f) {
			anim_tres = false;
			giro = 0;
		}
	}

	//Animation of the bounce of a ball
	if (anim_P == true) {
		/*There are 380 elements in the array of values that store the keyframes applied on 
		the position on the Y-axis and the scale on that same axis to represent the balls animation. 
		Iterate on each position assigning its read values to variables that allow to modify the state 
		of the object to be placed as arguments in the information applied to the object*/
		if (i < 380) {
			rise = PosY[i];
			scale = Esc[i];
			if (i == 379) { //When the last position is reached the animation will be finished
				i = 0;
				anim_P = false;
				rise = 9.1f;
				scale = 1.5f;
			}
			
		}
		i++;
		//it is allowed to rotate the object while reading the 380 elements of the arrays. When it reaches 380 then the rotation stops, 
		//as it implies that it has reached the initial position
		if (rotP < 381) {
			rotP++;
		}
		if (rotP == 380) {
			rotP = 0;
		}
	}
	//Walking animation of a toy ("reptar")
	if (anim_R == true) {
		/*There are 1710 elements in the arrays (obtained with keyframes) that allows to modify the rotation of the legs of the toy and 
		in the traslation of the same, is iterated on each position to be able to assign to the variables their 
		values so that these values are arguments of the transformation applied on the objects of the toy 
		(left leg, right leg and body)*/
		if (j < 1710) {
			rotLeg1 = Pier1[j];
			rotLeg2 = Pier2[j];
			walk = Tras[j];
		}
		j++;
		if (j == 1709) k = 161; /*When the end of the arrangement is reached implies that the toy reached 
								the wall of the room, then, to rotate, it has to reach from -80 to 80, that is, 
								if unit increments are made are 160 increments, an account that is only activated until 
								the iterator variable "j" at the end, to start the rotation process with the variable "k"*/
			if (k > 0)
			{
				if (rotR < 81) {
					rotR++;
				}
			}
			k--;
			if (k == 1) l = 1709; /*As "k" was decremented as an account, when it reaches 1 it implies that it has finished rotating, 
								  then the auxiliary variable "l" is assigned the value of 1709 so that it can iterate the arrangement 
								  (obtained with keyframes) in reverse to return to the initial position*/
				if (l > -1) {
					rotLeg1 = Pier1[l];
					rotLeg2 = Pier2[l];
					walk = Tras[l];
				}
				l--;
				if (l == 0) m = 161; /*When the auxiliary variable l reaches position 0, then I reach the initial position and starts 
									 an account of 160 to 0 so that I can now rotate from 80 to -80 so that the toy is as at the beginning 
									 of the animation*/
					if (m > 0)
					{
						rotLeg1 = 0.0;
						rotLeg2 = 0.0;
						if (rotR > -81) {
							rotR--;
						}
					}
					m--;
					if (m == 1) { //When the count reaches 1, it implies that the toy finished spinning and therefore ends the animation
						//Reset:
						j = 0;
						anim_R = false;
					}

	}

}

// Is called whenever a key is pressed/released via GLFW
void KeyCallback(GLFWwindow* window, int key, int scancode, int action, int mode)
{
	if (GLFW_KEY_ESCAPE == key && GLFW_PRESS == action)
	{
		glfwSetWindowShouldClose(window, GL_TRUE);
	}

	if (key >= 0 && key < 1024)
	{
		if (action == GLFW_PRESS)
		{
			keys[key] = true;
		}
		else if (action == GLFW_RELEASE)
		{
			keys[key] = false;
		}
	}

	if (keys[GLFW_KEY_1]) //Key 1 activates the animation of the toy chest
	{
		anim = true;
	}

	if (keys[GLFW_KEY_2]) //The key 2 activates the animation of the chest of drawers
	{
		anim_dos = true;
	}

	if (keys[GLFW_KEY_3]) //The key 3 activates the animation of the crib (the rotating element) and plays a song
	{
		anim_tres = true;
		PlaySound(TEXT("Models/Accesorios/Rugrats.wav"), NULL, SND_ASYNC);
	}

	if (keys[GLFW_KEY_4]) { // The key 4 activates the ball bounce animation
		anim_P = true;
	}

	if (keys[GLFW_KEY_5]) { //The key 5 activates the "reptar" walking toy
		anim_R = true;
	}

	if (keys[GLFW_KEY_6]) //The key 6 turns the floor lamp light on and off in the second room of the house
	{
		active = !active;
		if (active)
		{
			Light5 = glm::vec3(1.0f, 1.0f, 1.0f);
		}
		else
		{
			Light5 = glm::vec3(0);
		}
	}

	if (keys[GLFW_KEY_7]) //The key 7 turns the ceiling lamp light 1 on and off in the second room of the house
	{
		active = !active;
		if (active)
		{
			Light1 = glm::vec3(1.0f, 1.0f, 1.0f);
		}
		else
		{
			Light1 = glm::vec3(0);
		}
	}

	if (keys[GLFW_KEY_8]) { //The key 8 turns the ceiling lamp light 2 on and off in the second room of the house
		active = !active;
		if (active)
		{
			Light2 = glm::vec3(1.0f, 1.0f, 1.0f);
		}
		else
		{
			Light2 = glm::vec3(0);

		}
	}

	if (keys[GLFW_KEY_9]) { //Key 9 turns the ceiling lamp light on and off in tommys room
		active = !active;
		if (active)
		{
			Light3 = glm::vec3(1.0f, 1.0f, 1.0f);
		}
		else
		{
			Light3 = glm::vec3(0);

		}
	}

	if (keys[GLFW_KEY_0]) {//Key 0 turns on and off the night lamp light in tommys room
		active = !active;
		if (active)
		{
			Light4 = glm::vec3(1.0f, 1.0f, 1.0f);
		}
		else
		{
			Light4 = glm::vec3(0);

		}
	}
}

void MouseCallback(GLFWwindow* window, double xPos, double yPos)
{
	if (firstMouse)
	{
		lastX = xPos;
		lastY = yPos;
		firstMouse = false;
	}

	GLfloat xOffset = xPos - lastX;
	GLfloat yOffset = lastY - yPos;  // Reversed since y-coordinates go from bottom to left

	lastX = xPos;
	lastY = yPos;

	camera.ProcessMouseMovement(xOffset, yOffset);
}